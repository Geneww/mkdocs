{"config":{"lang":["en"],"separator":"[\\s\\u200b\\u3000\\-\u3001\u3002\uff0c\uff0e\uff1f\uff01\uff1b]+","pipeline":["stemmer"]},"docs":[{"location":"","title":"Welcome to MkDocs","text":"<p>For full documentation visit mkdocs.org.</p>"},{"location":"#commands","title":"Commands","text":"<ul> <li><code>mkdocs new [dir-name]</code> - Create a new project.</li> <li><code>mkdocs serve</code> - Start the live-reloading docs server.</li> <li><code>mkdocs build</code> - Build the documentation site.</li> <li><code>mkdocs -h</code> - Print help message and exit.</li> </ul>"},{"location":"#project-layout","title":"Project layout","text":"Text Only<pre><code>mkdocs.yml    # The configuration file.\ndocs/\n    index.md  # The documentation homepage.\n    ...       # Other markdown pages, images and other files.\n</code></pre>"},{"location":"blog/","title":"Blog","text":"<ul> <li> <p>Note Markdown<pre><code>!!! note\n    This is a note.\n</code></pre></p> </li> <li> <p>Tip Markdown<pre><code>!!! tip\n    This is a tip.\n</code></pre></p> </li> <li> <p>Warning Markdown<pre><code>!!! warning\n    This is a warning.\n</code></pre></p> </li> <li> <p>Danger Markdown<pre><code>!!! danger\n    This is a danger.\n</code></pre></p> </li> <li> <p>Success Markdown<pre><code>!!! success\n    This is a success.\n</code></pre></p> </li> <li>Info Markdown<pre><code>!!! info\n    This is an info.\n</code></pre></li> <li>Quote Markdown<pre><code>!!! quote\n    This is a quote.\n</code></pre></li> <li>Question Markdown<pre><code>??? question \"What is the meaning of life, the universe, and everything?\"\n    42.\n</code></pre></li> </ul>"},{"location":"infer/arm/ncnn%E7%A7%BB%E6%A4%8D%E6%AD%A5%E9%AA%A4/","title":"ncnn","text":""},{"location":"infer/arm/ncnn%E7%A7%BB%E6%A4%8D%E6%AD%A5%E9%AA%A4/#yuv-yuv","title":"YUV\u6570\u636e-\u64cd\u4f5c\u6307\u5b9a\u50cf\u7d20\u70b9\u6570\u636e,\u4fdd\u5b58yuv\u6587\u4ef6","text":"<p>YUV\u6570\u636e-\u64cd\u4f5c\u6307\u5b9a\u50cf\u7d20\u70b9\u6570\u636e,\u4fdd\u5b58yuv\u6587\u4ef6</p> <p>1.YUV\u683c\u5f0f\u6709\u4e24\u5927\u7c7b\uff1aplanar\u548cpacked\u3002</p> <p>\u5bf9\u4e8eplanar\u7684YUV\u683c\u5f0f\uff0c\u5148\u8fde\u7eed\u5b58\u50a8\u6240\u6709\u50cf\u7d20\u70b9\u7684Y\uff0c\u7d27\u63a5\u7740\u5b58\u50a8\u6240\u6709\u50cf\u7d20\u70b9\u7684U\uff0c\u968f\u540e\u662f\u6240\u6709\u50cf\u7d20\u70b9\u7684V\u3002</p> <p>\u5bf9\u4e8epacked\u7684YUV\u683c\u5f0f\uff0c\u6bcf\u4e2a\u50cf\u7d20\u70b9\u7684Y,U,V\u662f\u8fde\u7eed\u4ea4*\u5b58\u50a8\u7684\u3002</p> <p>\u672c\u6b21\u8bb2\u89e3\u7684\u662f\u5e38\u7528\u7684YUV420\uff08I420\uff09\u683c\u5f0f\uff0c\u8be5\u683c\u5f0f\u91c7\u7528planar\u683c\u5f0f\u3002</p> <p>\u8be5\u683c\u5f0f\u5bf9\u5e94\u7684\u6570\u636e\u91c7\u96c6\uff0c\u53ef\u4ee5\u53c2\u8003\u4e0b\u56fe\uff1a</p> <p></p> <p></p> <p>Y'00\u3001Y'01\u3001Y'10\u3001Y'11\u5171\u7528Cr00\u3001Cb00\uff0c\u4e5f\u5c31\u662f\u4e24\u884c\u4e24\u5217Y\u6570\u636e\u5bf9\u5e94\u4e00\u884c\u4e00\u5217UV\u6570\u636e\u3002</p> <p>\u5bf9\u5e94\u4e00\u5e27\u5bbd\u4e3aW\uff0c\u9ad8\u4e3aH\u7684YUV\u6570\u636e\u3002\u6570\u636e\u7684\u5927\u5c0f\u4e3aWH3/2\u4e2a\u5b57\u8282\uff0c\u56e0\u4e3a\u50cf\u7d20\u70b9\u6709WH\u4e2a\uff0c\u5bf9\u5e94\u7684Y\u6570\u636e\u6709WH\u4e2a\u5b57\u8282\uff0c4\u4e2aY\u5bf9\u5e94\u4e00\u4e2aU\u548c\u4e00\u4e2aV\uff0c\u6240\u4ee5U/V\u5206\u522b\u5404\u6709W*H/4\u4e2a\u5b57\u8282\u3002</p> <p>YUV\u6570\u636e\u4e3aunsigned char\u7c7b\u578b\u800c\u4e0d\u662fchar\u7c7b\u578b\u3002\u5e76\u4e14\u6570\u636e\u662f\u6309\u7167\u884c\u4f18\u5148\u5b58\u50a8\u7684\uff0c\u4e5f\u5c31\u662f\u5148\u5b58\u653e\u4e86\u7b2c\u4e00\u884c\u7684Y\uff0c\u518d\u5b58\u653e\u7b2c\u4e8c\u884cY\uff0c\u5c06Y\u5b58\u50a8\u5b8c\u540e\u518d\u5b58\u50a8U/V\uff0cU/V\u5185\u90e8\u4e5f\u662f\u6309\u7167\u884c\u4f18\u5148\u5b58\u50a8\u3002</p> <p>\u4ee5\u4e0b\u4e3a\u5e38\u89c1\u8bfb\u53d6\u4e00\u5e27\u3001\u8bfb\u53d6\u6307\u5b9a\u50cf\u7d20\u70b9\u3001YUV\u8d4b\u503c\u3001\u4fdd\u5b58YUV\u6587\u4ef6</p> <p>1.\u6253\u5f00YUV\u6587\u4ef6\uff0c\u8bfb\u53d6\u4e00\u5e27YUV\u6570\u636e\u3002</p> <p>2.\u6839\u636e\u5750\u6807\u503c\u6c42\u5bf9\u5e94YUV</p> <p>\u5750\u6807\u70b9\u4f4dx,y \u2192</p> <p>\u5982\u679c\u76f4\u63a5\u628a\u8bfb\u53d6UV\u7684\u516c\u5f0f\u5199\u6210y*w/4  \u5219U\u7684\u4f1a\u6839\u636ey\u7684\u6bcf\u4e00\u884c\u589e\u52a0\u800c\u589e\u52a0\uff0c\u73b0\u5728\u662f\u53ea\u6709\u5f53y\u4e3a\u5076\u6570\u65f6\u5019\uff0c\u624d\u4f1a\u589e\u52a0\u3002\u5207\u8bb0\u662f\u4e24\u884c\u4e24\u5217Y\u5bf9\u5e94\u4e00\u884c\u4e00\u5217UV\u3002</p> <p>int temp = y/2;  </p> <p>Y:  y*w +x</p> <p>U:  wh + tempw/2 + x /  2</p> <p>V:  wh + wh /4  + temp*w/2 + x /  2</p> <p>\u8f6c\u4e3aC++\u4ee3\u7801\u5219\u662f\uff1a</p> <p>int temp = y/2;</p> <p>unsigned char Y = FrameData[w*y+x];</p> <p>unsigned char U = FrameData[wh+w/2temp+x/2];</p> <p>unsigned char V = FrameData[wh5/4+w/2*temp+x/2];</p> <p>3.\u5982\u4f55\u7ed9YUV\u6570\u636e\u8d4b\u503c</p> <p>//\u84dd\u82720x335681  \u50cf\u7d20\u70b9\u7684Y\u4e3a80,0x50  U\u503c\u4e3a155\uff0c0x9b,V\u503c\u4e3a107\uff0c0x6b</p> <p>\u5c06FrameData\u6307\u9488\u6307\u5411\u6b64\u5e27frame\u3002</p> <p>unsigned char Save_Y =80;</p> <p>unsigned char Save_U=155;</p> <p>unsigned char Save_V=107;</p> <p>memset(FrameData,Save_Y,w*h);</p> <p>memset(FrameData+(wh),Save_U,wh/4);</p> <p>memset(FrameData+(wh5/4),Save_V,w*h/4);</p> <p>tip:\u8bf7\u6ce8\u610fmemset\u7ed9char\u6216unsigned\u7c7b\u578b\u8d4b\u503c\u65f6\u5019\uff0c\u662f\u53ef\u4ee5\u8d4b\u4e0d\u8d85\u8fc7\u7c7b\u578b\u5bb9\u7eb3\u7684\u503c\uff0c[0,256],U/V\u7684\u6700\u5927\u503c\u4e3a256\u3002\u4f46\u662f\u5bf9\u4e8eint\u7c7b\u578b\uff0cmemset\u53ea\u80fd\u8d4b0\u3002\u5173\u4e8ememset\u7684\u7528\u6cd5\uff0c\u53ef\u4ee5\u81ea\u884c\u641c\u7d22\u66f4\u591a\u8d44\u6599\u3002</p> <p>4.\u4fdd\u5b58YUV\u6587\u4ef6</p> <p>\u200b    \uff08window\u64cd\u4f5c\uff09</p> <p>\u200b    \u5c06FrameData\u6307\u5411\u89e3\u7801\u540e\u6216\u8005\u81ea\u5df1\u624b\u52a8\u751f\u6210\u7684\u4e00\u5e27frame\u3002</p> <p>\u200b    FILE * fn1 = fopen(\"f:\\0.yuv\",\"ab+\");</p> <p>\u200b    fwrite(FrameData, 1,wh3/2,fn1);</p> <p>\u200b    fclose(fn1);</p>"},{"location":"infer/nginx/%E9%85%8D%E7%BD%AE%E6%AD%A5%E9%AA%A4/","title":"\u5b50\u57df\u540d\u6cdb\u89e3\u6790","text":""},{"location":"infer/nginx/%E9%85%8D%E7%BD%AE%E6%AD%A5%E9%AA%A4/#nginx","title":"\u521b\u5efanginx\u914d\u7f6e\u6587\u4ef6","text":"<ol> <li>\u8fdb\u5165nginx\u9ed8\u8ba4\u914d\u7f6e\u6587\u4ef6\u5939\u8def\u5f84/etc/nginx/conf/conf.d</li> </ol> Bash<pre><code>cd /etc/nginx/conf/conf.d\ntouch llava.conf\nvi llava.conf\n</code></pre> Nginx Configuration File<pre><code>map $http_upgrade $connection_upgrade { \n    default upgrade; \n    '' close; \n} \n\n# \u8d1f\u8f7d\u5747\u8861\nupstream wsbackend{ \n    server 127.0.0.1:10000;\n    keepalive 1000; \n} \n\nserver { \n    listen 80;\n    server_name llava.iokko.cn; \n    location / { \n        proxy_http_version 1.1; \n        proxy_pass http://wsbackend;\n        proxy_redirect off; \n        proxy_set_header Host $host; \n        proxy_set_header X-Real-IP $remote_addr;\n        proxy_read_timeout 3600s; \n        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for; \n        proxy_set_header Upgrade $http_upgrade; \n        proxy_set_header Connection $connection_upgrade; \n    } \n}\n</code></pre>"},{"location":"linux/Ubuntu%E5%AE%89%E8%A3%85docker/","title":"Ubuntu18.04\u5b89\u88c5docker","text":"<p>\u53c2\u8003</p> <p>https://www.runoob.com/docker/ubuntu-docker-install.html</p> <p>1.\u5378\u8f7d</p> Bash<pre><code>sudo apt-get remove docker docker-engine docker.io containerd runc\n</code></pre> <p>2.\u5b89\u88c5Docker</p> Bash<pre><code>sudo apt-get update\n# \u5b89\u88c5\u4f9d\u8d56\u5305\nsudo apt-get install apt-transport-https ca-certificates curl gnupg-agent software-properties-common\n# \u6dfb\u52a0 Docker \u7684\u5b98\u65b9 GPG \u5bc6\u94a5\ncurl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo apt-key add -\n# \u9a8c\u8bc1\u60a8\u73b0\u5728\u662f\u5426\u62e5\u6709\u5e26\u6709\u6307\u7eb9\u7684\u5bc6\u94a5\nsudo apt-key fingerprint 0EBFCD88\n# \u8bbe\u7f6e\u7a33\u5b9a\u7248\u4ed3\u5e93\nsudo add-apt-repository \"deb [arch=amd64] https://download.docker.com/linux/ubuntu $(lsb_release -cs) stable\"\n</code></pre> <p></p> <p>3.\u5b89\u88c5 Docker Engine-Community</p> Bash<pre><code># \u66f4\u65b0\n$ sudo apt-get update\n# \u5b89\u88c5\u6700\u65b0\u7684Docker-ce \nsudo apt-get install docker-ce\n# \u542f\u52a8\nsudo systemctl enable docker\nsudo systemctl start docker\n</code></pre> <p>4.\u6d4b\u8bd5</p> Bash<pre><code>sudo docker run hello-world\n</code></pre> <p></p> <p>\u5728\u7528\u6237\u6743\u9650\u4e0bdocker \u547d\u4ee4\u9700\u8981 sudo \u5426\u5219\u51fa\u73b0\u4ee5\u4e0b\u95ee\u9898</p> <p></p> <p>\u901a\u8fc7\u5c06\u7528\u6237\u6dfb\u52a0\u5230docker\u7528\u6237\u7ec4\u53ef\u4ee5\u5c06sudo\u53bb\u6389\uff0c\u547d\u4ee4\u5982\u4e0b Bash<pre><code>sudo groupadd docker #\u6dfb\u52a0docker\u7528\u6237\u7ec4\n\nsudo gpasswd -a $USER docker #\u5c06\u767b\u9646\u7528\u6237\u52a0\u5165\u5230docker\u7528\u6237\u7ec4\u4e2d\n\nnewgrp docker #\u66f4\u65b0\u7528\u6237\u7ec4\n</code></pre></p>"},{"location":"linux/Ubuntu%E8%AE%BE%E7%BD%AE%E5%9B%BD%E5%86%85%E6%B8%85%E5%8D%8E%E6%BA%90/","title":"Ubuntu\u8bbe\u7f6e\u56fd\u5185\u6e05\u534e\u6e90","text":"<p>1\u3001\u5907\u4efd\u4e00\u4e0b\u4ee5\u524d\u7684\u6e90\uff1a</p> Bash<pre><code>cp /etc/apt/sources.list /etc/apt/sources.list.bak\n</code></pre> <p>2\u3001\u628a/etc/apt/sources.list\u6e05\u6389\uff0c\u91cd\u65b0\u6dfb\u52a0\u4ee5\u4e0b\u5185\u5bb9\uff1aUbuntu \u955c\u50cf \u6e05\u534e\u7684\u8f6f\u4ef6\u6e90\u955c\u50cf\u3002</p> <p>https://mirror.tuna.tsinghua.edu.cn/help/ubuntu/  \u9009\u62e9\u5bf9\u5e94\u7248\u672c\u590d\u5236\u7c98\u8d34\u8fdbsources.list\u4e2d\u3002\u4f8b\u5982\u6211\u662fUbuntu18.04</p> Text Only<pre><code># \u9ed8\u8ba4\u6ce8\u91ca\u4e86\u6e90\u7801\u955c\u50cf\u4ee5\u63d0\u9ad8 apt update \u901f\u5ea6\uff0c\u5982\u6709\u9700\u8981\u53ef\u81ea\u884c\u53d6\u6d88\u6ce8\u91ca\ndeb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ bionic main restricted universe multiverse\n# deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ bionic main restricted universe multiverse\ndeb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ bionic-updates main restricted universe multiverse\n# deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ bionic-updates main restricted universe multiverse\ndeb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ bionic-backports main restricted universe multiverse\n# deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ bionic-backports main restricted universe multiverse\ndeb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ bionic-security main restricted universe multiverse\n# deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ bionic-security main restricted universe multiverse\n\n# \u9884\u53d1\u5e03\u8f6f\u4ef6\u6e90\uff0c\u4e0d\u5efa\u8bae\u542f\u7528\n# deb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ bionic-proposed main restricted universe multiverse\n# deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ bionic-proposed main restricted universe multiverse\n</code></pre> <p>3\u3001\u6700\u540e\u6267\u884c\u5982\u4e0b\u547d\u4ee4\u66f4\u65b0\u6e90</p> Bash<pre><code>sudo apt-get update\nsudo apt-get upgrade\n</code></pre>"},{"location":"linux/frp%E6%90%AD%E5%BB%BA/","title":"FRP\u642d\u5efa","text":"<p>frp \u662f\u4e00\u4e2a\u9ad8\u6027\u80fd\u7684\u53cd\u5411\u4ee3\u7406\u5e94\u7528\uff0c\u53ef\u4ee5\u5e2e\u52a9\u60a8\u8f7b\u677e\u5730\u8fdb\u884c\u5185\u7f51\u7a7f\u900f</p> <p>frp \u91c7\u7528 C/S \u6a21\u5f0f\uff0c\u5c06\u670d\u52a1\u7aef\u90e8\u7f72\u5728\u5177\u6709\u516c\u7f51 IP \u673a\u5668\u4e0a\uff0c\u5ba2\u6237\u7aef\u90e8\u7f72\u5728\u5185\u7f51\u6216\u9632\u706b\u5899\u5185\u7684\u673a\u5668\u4e0a\uff0c\u901a\u8fc7\u8bbf\u95ee\u66b4\u9732\u5728\u670d\u52a1\u5668\u4e0a\u7684\u7aef\u53e3\uff0c\u53cd\u5411\u4ee3\u7406\u5230\u5904\u4e8e\u5185\u7f51\u7684\u670d\u52a1\u3002 </p>"},{"location":"linux/frp%E6%90%AD%E5%BB%BA/#frp_1","title":"\u4e00\u3001\u4e0b\u8f7dfrp","text":"<p>frp\u4e0b\u8f7d\u5730\u5740</p> Bash<pre><code>wget https://github.com/fatedier/frp/releases/download/v0.57.0/frp_0.57.0_linux_amd64.tar.gz\n</code></pre>"},{"location":"linux/frp%E6%90%AD%E5%BB%BA/#frp_2","title":"\u4e8c\u3001\u89e3\u538bfrp\u81f3\u670d\u52a1\u7aef","text":"Bash<pre><code>tar -zxvf frp_0.57.0_linux_amd64.tar.gz &amp;&amp; mv frp_0.57.0_linux_amd64 frp &amp;&amp; cd frp\n</code></pre>"},{"location":"linux/frp%E6%90%AD%E5%BB%BA/#frp_3","title":"\u4e09\u3001\u914d\u7f6efrp\u670d\u52a1\u7aef","text":"<p>\u4fee\u6539frps.ini\u914d\u7f6e\u6587\u4ef6\uff0c\u5185\u5bb9\u5982\u4e0b\uff1a</p> Bash<pre><code>[common]\nbind_port = 7000 # frp\u670d\u52a1\u7684\u7aef\u53e3\u53f7\uff0c\u53ef\u4ee5\u81ea\u5df1\u5b9a\ndashboard_port = 7500 # frp\u7684web\u754c\u9762\u7684\u7aef\u53e3\u53f7\ndashboard_user = user # web\u754c\u9762\u7684\u767b\u9646\u8d26\u6237\uff0c\u81ea\u5df1\u4fee\u6539\ndashboard_pwd = pass # web\u754c\u9762\u7684\u767b\u9646\u5bc6\u7801\uff0c\u81ea\u5df1\u4fee\u6539\nauthentication_method = token\ntoken = xxxxx # frp\u5ba2\u6237\u7aef\u8fde\u63a5\u65f6\u7684\u5bc6\u7801\uff0c\u81ea\u5df1\u4fee\u6539\n# console or real logFile path like ./frps.log\nlog_file=/usr/local/bin/frp/logs/frps.log\n# trace, debug, info, warn, error\nlog_level = info\nlog_max_days = 3\n# disable log colors when log_file is console, default is false\ndisable_log_color = false\n</code></pre> <p>\u5728\u6d4f\u89c8\u5668\u8f93\u5165 <code>[\u4e91\u670d\u52a1\u5668\u7684\u516c\u7f51ip]:7500</code> \u5373\u53ef\u8bbf\u95ee\u5230 frp\u7684web\u7ba1\u7406\u754c\u9762\u3002</p> <p>\u6ce8\u610f\uff0c\u53ef\u80fd\u9700\u8981\u53bb\u4e91\u670d\u52a1\u5668\u63a7\u5236\u53f0\u914d\u7f6e\u5b89\u5168\u7ec4\u89c4\u5219 \u5f00\u653e\u4ee5\u4e0a\u6d89\u53ca\u5230\u7684\u7aef\u53e3\uff0c\u5426\u5219\u65e0\u6cd5\u8bbf\u95ee\u3002</p>"},{"location":"linux/frp%E6%90%AD%E5%BB%BA/#frp_4","title":"\u56db\u3001\u6dfb\u52a0frp\u670d\u52a1\u7aef\u4e3a\u7cfb\u7edf\u670d\u52a1\u5f00\u673a\u81ea\u542f","text":"<p>\u6dfb\u52a0\u5f00\u673a\u81ea\u52a8\u542f\u52a8\u7684\u811a\u672c\uff0c\u5728/etc/systemd/system/\u76ee\u5f55\u4e0b\u65b0\u5efa\u4e00\u4e2afrps.service\u6587\u4ef6\u5185\u5bb9\u5982\u4e0b\uff1a</p> <p>\u5b8c\u6574\u8def\u5f84<code>/etc/systemd/system/frps.service</code></p> Bash<pre><code>[Fusion]\nDescription=Frp Server Daemon\nAfter=syslog.target network.target\nWants=network.target\n\n[Service]\nType=simple\nExecStart=/root/frp/frps -c /root/frp/frps.ini # \u4fee\u6539\u4e3a\u4f60\u7684frp\u5b9e\u9645\u5b89\u88c5\u76ee\u5f55\nExecStop=/usr/bin/killall frps\n#\u542f\u52a8\u5931\u8d251\u5206\u949f\u540e\u518d\u6b21\u542f\u52a8\nRestartSec=1min\nKillMode=control-group\n#\u91cd\u542f\u63a7\u5236\uff1a\u603b\u662f\u91cd\u542f\nRestart=always\n\n[Install]\nWantedBy=multi-user.target\n</code></pre> <p>\u7136\u540e\u6267\u884c\u4ee5\u4e0b\u547d\u4ee4\u542f\u7528\u811a\u672c\uff1a</p> Bash<pre><code>sudo systemctl enable frps.service\nsudo systemctl start frps.service\n</code></pre> <p>\u901a\u8fc7\u4e0b\u9762\u7684\u547d\u4ee4\u67e5\u770b\u670d\u52a1\u72b6\u6001\uff0c\u5982\u679c\u662frunning\u7684\u8bdd\u5c31\u8bf4\u660e\u53ef\u4ee5\u4e86\uff1a</p> Bash<pre><code>sudo systemctl status frps.service\n</code></pre> <p></p>"},{"location":"linux/frp%E6%90%AD%E5%BB%BA/#frp_5","title":"\u4e94\u3001\u89e3\u538bfrp\u81f3\u5ba2\u6237\u7aef","text":"Bash<pre><code>tar -zxvf frp_0.57.0_linux_amd64.tar.gz &amp;&amp; mv frp_0.57.0_linux_amd64 frp &amp;&amp; cd frp\n</code></pre>"},{"location":"linux/frp%E6%90%AD%E5%BB%BA/#frp_6","title":"\u516d\u3001\u914d\u7f6efrp\u5ba2\u6237\u7aef","text":"<p>\u4fee\u6539frpc.ini\u914d\u7f6e\u6587\u4ef6\uff0c\u5185\u5bb9\u5982\u4e0b\uff1a</p> Bash<pre><code>[common]\nserver_addr=xx.xx.xx.xx # \u4f60\u7684\u4e91\u670d\u52a1\u5668\u7684\u516c\u7f51ip\nserver_port=7000\ntoken=xxx\nlog_file=/data/nfsroot/frp/frpc.log\n# ssh\n[home_server_ssh]\ntype = tcp\nlocal_ip = 127.0.0.1\nlocal_port = 22\nremote_port = 20022\n# rdp\n[home_server_rdp]\ntype = tcp\nlocal_ip = 127.0.0.1\nlocal_port = 3389\nremote_port = 23389\n\n#\u8fd9\u6b65\u53ef\u9009\u5f00\u901aweb\u7aef\n[home_server_web]\ntype=http\nlocal_ip=127.0.0.1\nlocal_port=80\nsubdomain=xx\n</code></pre> <p>\u901a\u8fc7\u4e0a\u9762\u7684\u811a\u672c\u5c31\u53ef\u4ee5\u628a\u5bf9\u4e8e\u4e91\u670d\u52a1\u5668\u7279\u5b9a\u7aef\u53e3\u7684\u8bbf\u95ee\u7ed9\u91cd\u5b9a\u5411\u5230\u672c\u5730\u670d\u52a1\u5668\u7684\u67d0\u4e2a\u7aef\u53e3\u4e86\uff0c\u7b80\u5355\u5730\u8bb2\u5c31\u662f\uff1a\u5047\u5982\u6211\u7528SSH\u5ba2\u6237\u7aef\u8bbf\u95ee <code>[\u4e91\u670d\u52a1\u5668ip]:20022</code>\uff0c\u5c31\u53ef\u4ee5\u7ecf\u8fc7\u53cd\u5411\u4ee3\u7406\u76f4\u63a5\u8bbf\u95ee\u5230<code>[\u672c\u5730\u7684\u8bad\u7ec3\u670d\u52a1\u5668ip]:22</code>\uff1b\u540c\u7406\u9700\u8981\u8fde\u63a5\u8fdc\u7a0b\u684c\u9762\u7684\u8bdd\uff0c\u53ea\u9700\u8981\u8bbf\u95ee<code>[\u4e91\u670d\u52a1\u5668ip]:23389</code>\u5c31\u53ef\u4ee5\u4e86\u3002</p>"},{"location":"linux/frp%E6%90%AD%E5%BB%BA/#frp_7","title":"\u4e03\u3001\u6dfb\u52a0frp\u5ba2\u6237\u7aef\u4e3a\u7cfb\u7edf\u670d\u52a1\u5f00\u673a\u81ea\u542f","text":"<p>\u6309\u7167\u4e0a\u56db\u63cf\u8ff0\u6dfb\u52a0\u5f00\u673a\u81ea\u52a8\u542f\u52a8\u7684\u811a\u672c\uff0c\u5728/etc/systemd/system/\u76ee\u5f55\u4e0b\u65b0\u5efa\u4e00\u4e2afrpc.service\u6587\u4ef6\u5185\u5bb9\u5982\u4e0b\uff1a</p> <p>\u5b8c\u6574\u8def\u5f84<code>/etc/systemd/system/frpc.service</code></p> Bash<pre><code>[Fusion]\nDescription=Frpc Server Daemon\nAfter=syslog.target network.target\nWants=network.target\n\n[Service]\nType=simple\nExecStart=/usr/local/bin/frp/frpc -c /usr/local/bin/frp/frpc.ini # \u4fee\u6539\u4e3a\u4f60\u7684frp\u5b9e\u9645\u5b89\u88c5\u76ee\u5f55\nExecStop=/usr/bin/killall frpc\n#\u542f\u52a8\u5931\u8d251\u5206\u949f\u540e\u518d\u6b21\u542f\u52a8\nRestartSec=1min\nKillMode=control-group\n#\u91cd\u542f\u63a7\u5236\uff1a\u603b\u662f\u91cd\u542f\nRestart=always\n\n[Install]\nWantedBy=multi-user.target\n</code></pre> <p>\u7136\u540e\u6267\u884c\u4ee5\u4e0b\u547d\u4ee4\u542f\u7528\u811a\u672c\uff1a</p> Bash<pre><code>sudo systemctl enable frpc.service\nsudo systemctl start frpc.service\n</code></pre> <p>\u901a\u8fc7\u4e0b\u9762\u7684\u547d\u4ee4\u67e5\u770b\u670d\u52a1\u72b6\u6001\uff0c\u5982\u679c\u662frunning\u7684\u8bdd\u5c31\u8bf4\u660e\u53ef\u4ee5\u4e86\uff1a</p> Bash<pre><code>sudo systemctl status frpc.service\n</code></pre> <p>\u8fd9\u91cc\u987a\u4fbf\u63d0\u4e00\u4e0b\uff0c\u6309\u7167\u4e60\u60ef\u4e00\u822c\u628a\u4e0a\u9762\u7684frp\u8f6f\u4ef6\u89e3\u538b\u9632\u6b62\u5728<code>/usr/local/bin</code>\u76ee\u5f55\u4e0b\u3002Linux \u7684\u8f6f\u4ef6\u5b89\u88c5\u76ee\u5f55\u662f\u4e5f\u662f\u6709\u8bb2\u7a76\u7684\uff0c\u7406\u89e3\u8fd9\u4e00\u70b9\uff0c\u5728\u5bf9\u7cfb\u7edf\u7ba1\u7406\u662f\u6709\u76ca\u7684</p> <ul> <li><code>/usr</code>\uff1a\u7cfb\u7edf\u7ea7\u7684\u76ee\u5f55\uff0c\u53ef\u4ee5\u7406\u89e3\u4e3a<code>C:/Windows/</code></li> <li><code>/usr/lib</code>\uff1a\u53ef\u4ee5\u7406\u89e3\u4e3a<code>C:/Windows/System32</code></li> <li><code>/usr/local</code>\uff1a\u7528\u6237\u7ea7\u7684\u7a0b\u5e8f\u76ee\u5f55\uff0c\u53ef\u4ee5\u7406\u89e3\u4e3a<code>C:/Progrem Files/</code>\uff0c\u7528\u6237\u81ea\u5df1\u7f16\u8bd1\u7684\u8f6f\u4ef6\u9ed8\u8ba4\u4f1a\u5b89\u88c5\u5230\u8fd9\u4e2a\u76ee\u5f55\u4e0b</li> <li><code>/opt</code>\uff1a\u7528\u6237\u7ea7\u7684\u7a0b\u5e8f\u76ee\u5f55\uff0c\u53ef\u4ee5\u7406\u89e3\u4e3a<code>D:/Software</code>\uff0copt\u6709\u53ef\u9009\u7684\u610f\u601d\uff0c\u8fd9\u91cc\u53ef\u4ee5\u7528\u4e8e\u653e\u7f6e\u7b2c\u4e09\u65b9\u5927\u578b\u8f6f\u4ef6\uff08\u6216\u6e38\u620f\uff09\uff0c\u5f53\u4f60\u4e0d\u9700\u8981\u65f6\uff0c\u76f4\u63a5<code>rm -rf</code>\u6389\u5373\u53ef\u3002\u5728\u786c\u76d8\u5bb9\u91cf\u4e0d\u591f\u65f6\uff0c\u4e5f\u53ef\u5c06<code>/opt</code>\u5355\u72ec\u6302\u8f7d\u5230\u5176\u4ed6\u78c1\u76d8\u4e0a\u4f7f\u7528</li> </ul> <p>\u6e90\u7801\u653e\u54ea\u91cc\uff1f</p> <ul> <li><code>/usr/src</code>\uff1a\u7cfb\u7edf\u7ea7\u7684\u6e90\u7801\u76ee\u5f55</li> <li><code>/usr/local/src</code>\uff1a\u7528\u6237\u7ea7\u7684\u6e90\u7801\u76ee\u5f55\u3002</li> </ul>"},{"location":"linux/linux%E6%96%B0%E5%BB%BA%E7%94%A8%E6%88%B7%E5%8F%8A%E7%94%A8%E6%88%B7%E7%BB%84%E7%9B%AE%E5%BD%95%E6%9D%83%E9%99%90/","title":"linux\u7528\u6237\u521b\u5efa","text":""},{"location":"linux/linux%E6%96%B0%E5%BB%BA%E7%94%A8%E6%88%B7%E5%8F%8A%E7%94%A8%E6%88%B7%E7%BB%84%E7%9B%AE%E5%BD%95%E6%9D%83%E9%99%90/#_1","title":"\u6dfb\u52a0\u7528\u6237","text":"Bash<pre><code>useradd -m username -p password -d /data/home/xxx\n</code></pre> <p>username\u3001password\u5904\u5206\u522b\u586b\u4e0a\u7528\u6237\u540d\u3001\u5bc6\u7801 -m \u8868\u793a\u6dfb\u52a0\u7528\u6237\u7684\u65f6\u5019\u987a\u4fbf\u5efa\u7acb\u8be5\u7528\u6237\u6743\u9650\u7684\u6587\u4ef6\u5939 -d \u8868\u793a\u8be5\u6587\u4ef6\u5939\u7684\u76ee\u5f55</p> <p>\u5220\u9664\u7528\u6237\u53ca\u5176\u6587\u4ef6\u5939</p> Bash<pre><code>userdel -r yyl\n</code></pre> <p>\u4fee\u6539\u7528\u6237\u5bc6\u7801</p> Bash<pre><code>passwd username\n</code></pre> <p>\u52a0\u76ee\u5f55\u6743\u9650</p> <p>linux\u67e5\u770b\u7528\u6237\u7ec4</p> <p>\u8981\u67e5\u770bLinux\u7cfb\u7edf\u4e2d\u7684\u7528\u6237\u7ec4\uff0c\u53ef\u4ee5\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4:</p> Text Only<pre><code>cat /etc/group\n</code></pre> <p>\u8be5\u547d\u4ee4\u5c06\u663e\u793a\u7cfb\u7edf\u4e2d\u6240\u6709\u7528\u6237\u7ec4\u7684\u5217\u8868\uff0c\u6bcf\u4e2a\u7528\u6237\u7ec4\u7684\u4fe1\u606f\u90fd\u4ee5\u4e00\u884c\u663e\u793a\u3002\u6bcf\u884c\u5305\u542b\u4ee5\u4e0b\u5b57\u6bb5:</p> Text Only<pre><code>group_name:password:GID:user_list\n</code></pre> <ul> <li><code>group_name</code> \u662f\u7528\u6237\u7ec4\u7684\u540d\u79f0\u3002</li> <li><code>password</code> \u662f\u7528\u6237\u7ec4\u7684\u5bc6\u7801\u5b57\u6bb5\u3002\u901a\u5e38\u5728Linux\u4e2d\uff0c\u7528\u6237\u7ec4\u7684\u5bc6\u7801\u5b57\u6bb5\u4e3a\u7a7a\u6216\u5305\u542b\u4e00\u4e2a\u5360\u4f4d\u7b26\u3002</li> <li><code>GID</code> \u662f\u7528\u6237\u7ec4\u7684\u552f\u4e00\u6807\u8bc6\u7b26\uff08Group ID\uff09\u3002</li> <li><code>user_list</code> \u662f\u5c5e\u4e8e\u8be5\u7528\u6237\u7ec4\u7684\u7528\u6237\u5217\u8868\uff0c\u591a\u4e2a\u7528\u6237\u540d\u4e4b\u95f4\u7528\u9017\u53f7\u5206\u9694\u3002</li> </ul> <p>\u8bf7\u6ce8\u610f\uff0c\u67e5\u770b <code>/etc/group</code> \u6587\u4ef6\u9700\u8981 root \u6216\u5177\u6709\u9002\u5f53\u6743\u9650\u7684\u7528\u6237\u624d\u80fd\u6267\u884c\u6b64\u64cd\u4f5c\u3002</p> <p>\u6dfb\u52a0\u7528\u6237\u7ec4</p> <p>\u5c06\u65b0\u7528\u6237\u6dfb\u52a0\u5230\u76ee\u6807\u76ee\u5f55\u6240\u5c5e\u7684\u7528\u6237\u7ec4\u4e2d</p> Bash<pre><code>sudo usermod -aG groupname user1\n</code></pre> <p>\u8981\u5c06\u4e00\u4e2a\u78c1\u76d8\u76ee\u5f55 <code>/hdd</code> \u6dfb\u52a0\u5230\u7528\u6237\u7ec4 <code>group1</code>\uff0c\u53ef\u4ee5\u4f7f\u7528 <code>chgrp</code> \u547d\u4ee4\u6765\u66f4\u6539\u76ee\u5f55\u7684\u6240\u5c5e\u7528\u6237\u7ec4\u3002\u7136\u540e\uff0c\u4f7f\u7528 <code>chmod</code> \u547d\u4ee4\u6765\u8bbe\u7f6e\u7528\u6237\u7ec4\u7684\u6743\u9650\u3002</p> <p>\u4ee5\u4e0b\u662f\u6dfb\u52a0\u7528\u6237\u7ec4\u6743\u9650\u7684\u57fa\u672c\u8bed\u6cd5\uff1a</p> Text Only<pre><code>sudo chgrp group1 /hdd\nsudo chmod g+rwx /hdd\n</code></pre> <p>\u89e3\u91ca\u4e00\u4e0b\u4e0a\u8ff0\u547d\u4ee4\u4e2d\u7684\u53c2\u6570\uff1a</p> <ul> <li><code>sudo</code>\uff1a\u4ee5\u7ba1\u7406\u5458\u6743\u9650\u8fd0\u884c\u547d\u4ee4\u3002</li> <li><code>chgrp</code>\uff1a\u7528\u4e8e\u66f4\u6539\u6587\u4ef6\u6216\u76ee\u5f55\u7684\u6240\u5c5e\u7528\u6237\u7ec4\u3002</li> <li><code>group1</code>\uff1a\u76ee\u6807\u7528\u6237\u7ec4\u7684\u540d\u79f0\u3002</li> <li><code>/hdd</code>\uff1a\u8981\u66f4\u6539\u6240\u5c5e\u7528\u6237\u7ec4\u7684\u76ee\u5f55\u8def\u5f84\u3002</li> </ul> <p>\u7136\u540e\uff0c\u6211\u4eec\u4f7f\u7528 <code>chmod</code> \u547d\u4ee4\u8bbe\u7f6e\u7528\u6237\u7ec4\u7684\u6743\u9650\uff1a</p> <ul> <li><code>g+rwx</code>\uff1a\u8868\u793a\u4e3a\u7528\u6237\u7ec4\u6dfb\u52a0\u8bfb\u53d6\u3001\u5199\u5165\u548c\u6267\u884c\u6743\u9650\u3002</li> </ul> <p>\u8fd0\u884c\u4ee5\u4e0a\u547d\u4ee4\u540e\uff0c\u76ee\u5f55 <code>/hdd</code> \u5c06\u88ab\u8bbe\u7f6e\u4e3a\u7528\u6237\u7ec4 <code>group1</code> \u6240\u62e5\u6709\uff0c\u5e76\u5177\u6709\u8bfb\u53d6\u3001\u5199\u5165\u548c\u6267\u884c\u6743\u9650\u3002</p> <p>\u8bf7\u6ce8\u610f\uff0c\u6267\u884c\u8fd9\u4e9b\u64cd\u4f5c\u9700\u8981\u4ee5\u7ba1\u7406\u5458\u6743\u9650\u8fd0\u884c\u547d\u4ee4\uff08\u4f7f\u7528 <code>sudo</code>\uff09\uff0c\u5426\u5219\u53ef\u80fd\u4f1a\u56e0\u6743\u9650\u4e0d\u8db3\u800c\u65e0\u6cd5\u6267\u884c\u64cd\u4f5c\u3002</p>"},{"location":"linux/ubuntu%E5%AE%89%E8%A3%85nvidia-docker/","title":"nvidia-docker\u5b89\u88c5","text":""},{"location":"linux/ubuntu%E5%AE%89%E8%A3%85nvidia-docker/#nvidia-docker","title":"\u5b89\u88c5Nvidia-Docker","text":"<p>Docker\u4e5f\u662f\u865a\u62df\u5316\u73af\u5883\u7684\u795e\u5668\uff0c\u524d\u9762\u8bf4\u7684conda\u867d\u7136\u53ef\u4ee5\u63d0\u4f9bpython\u7684\u865a\u62df\u73af\u5883\u5e76\u65b9\u4fbf\u5730\u5207\u6362\uff0c\u4f46\u662f\u6709\u7684\u65f6\u5019\u6211\u4eec\u7684\u5f00\u53d1\u73af\u5883\u5e76\u4e0d\u53ea\u662f\u7528\u5230python\uff0c\u6bd4\u5982\u6709\u7684native\u5e93\u9700\u8981\u5bf9\u5e94gcc\u7248\u672c\u7684\u7f16\u8bd1\u73af\u5883\uff0c\u6216\u8005\u8fdb\u884c\u4ea4\u53c9\u7f16\u8bd1\u65f6\u54df\u554a\u5b89\u88c5\u5f88\u591a\u5de5\u5177\u94fe\u7b49\u7b49\u3002\u5982\u679c\u8fd9\u4e9b\u64cd\u4f5c\u90fd\u5728\u670d\u52a1\u5668\u672c\u5730\u4e0a\u8fdb\u884c\uff0c\u90a3\u65f6\u95f4\u4e45\u4e86\u5c31\u4f1a\u8ba9\u670d\u52a1\u5668\u7684\u6587\u4ef6\u7cfb\u7edf\u975e\u5e38\u6742\u4e71\uff0c\u800c\u4e14\u8fd8\u4f1a\u9047\u5230\u5404\u79cd\u8f6f\u4ef6\u7248\u672c\u51b2\u7a81\u95ee\u9898\u3002</p> <p>Docker\u5c31\u53ef\u4ee5\u5f88\u597d\u5730\u89e3\u51b3\u8fd9\u4e9b\u95ee\u9898\uff0c\u5b83\u5176\u5b9e\u53ef\u4ee5\u7406\u89e3\u4e3a\u5c31\u662f\u4e00\u4e2a\u975e\u5e38\u8f7b\u91cf\u5316\u7684\u865a\u62df\u673a\uff0c\u6211\u4eec\u53ef\u4ee5\u5728\u5bbf\u4e3b\u670d\u52a1\u5668\u4e0a\u65b0\u5efa\u5f88\u591a\u4e2a\u8fd9\u79cd\u88ab\u79f0\u4e3a<code>\u5bb9\u5668</code>\u7684\u865a\u62df\u673a\uff0c\u7136\u540e\u5728\u91cc\u9762\u914d\u7f6e\u6211\u4eec\u7684\u5f00\u53d1\u73af\u5883\uff0c\u4e14\u8fd9\u4e9b\u914d\u7f6e\u597d\u7684\u73af\u5883\u662f\u53ef\u4ee5\u6253\u5305\u6210<code>\u955c\u50cf</code>\u7684\uff0c\u65b9\u4fbf\u968f\u65f6\u505a\u5206\u4eab\u548c\u91cd\u7528\uff1b\u4e0d\u9700\u8981\u7684\u65f6\u5019\uff0c\u6211\u4eec\u76f4\u63a5\u5220\u9664\u5bb9\u5668\u5c31\u597d\u4e86\uff0c\u5176\u8d44\u6e90\u662f\u548c\u6211\u4eec\u7684\u670d\u52a1\u5668\u5bbf\u4e3b\u673a\u5b8c\u5168\u9694\u79bb\u7684\u3002</p> <p>Docker\u7684\u5177\u4f53\u4f7f\u7528\u53ef\u4ee5\u81ea\u5df1\u641c\u7d22\u4e00\u4e0b\u5f88\u591a\u6559\u7a0b\uff0c\u8fd9\u91cc\u4e3b\u8981\u4ecb\u7ecd\u5982\u4f55\u628aGPU\u66b4\u9732\u7ed9Docker\u7684\u5bb9\u5668\uff08\u56e0\u4e3a\u5927\u5bb6\u90fd\u77e5\u9053\u50cf\u662fVMware\u8fd9\u79cd\u865a\u62df\u673a\u91cc\u9762\u90fd\u662f\u65e0\u6cd5\u5171\u4eab\u5bbf\u4e3b\u673a\u7684GPU\u7684\uff09\uff0c\u662f\u901a\u8fc7<code>nvidia-docker</code>\u5b9e\u73b0\u7684\u3002</p> <p>\u4ee5\u524d\u4e3a\u4e86\u914d\u7f6envidia-docker\uff0c\u9700\u8981\u5b89\u88c5\u5b8cdocker\u4e4b\u540e\u518d\u5b89\u88c5\u5355\u72ec\u7684nvidia docker2\uff0c\u800c\u73b0\u5728\u53ea\u9700\u8981\u5b89\u88c5nvidia container toolkit\u5373\u53ef\uff0c\u66f4\u52a0\u65b9\u4fbf\u4e86\u3002</p> <ol> <li>docker\u5b89\u88c5 \u5b98\u7f51\u4e0a\u6709\u8be6\u7ec6\u7684\u4ecb\u7ecd\uff1aInstall Docker Engine on Ubuntudocs.docker.com \u6216\u8005\u8fd0\u884c\u4e0b\u9762\u7684\u547d\u4ee4\u5b89\u88c5\uff1a</li> </ol> Bash<pre><code>sudo apt-get update\nsudo apt-get install docker.io\nsystemctl start docker\nsystemctl enable docker\n</code></pre> <p>\u53ef\u4ee5\u8fd0\u884c\u8fd9\u6761\u547d\u4ee4\u68c0\u67e5\u662f\u5426\u5b89\u88c5\u6210\u529f\uff1a</p> Bash<pre><code>docker version\n</code></pre> <ol> <li>\u5b89\u88c5NVIDIA Container Toolkit</li> </ol> <p>\u5b98\u7f51\u5b89\u88c5\u6b65\u9aa4\uff1aNVIDIA/nvidia-docker: Build and run Docker containers leveraging NVIDIA GPUs (github.com) \u6216\u8005\u76f4\u63a5\u8fd0\u884c\u4e0b\u9762\u7684\u547d\u4ee4\uff1a</p> Bash<pre><code> ##\u9996\u5148\u8981\u786e\u4fdd\u5df2\u7ecf\u5b89\u88c5\u4e86nvidia driver\n # 2. \u6dfb\u52a0\u6e90\n distribution=$(. /etc/os-release;echo $ID$VERSION_ID)\n curl -s -L https://nvidia.github.io/nvidia-docker/gpgkey | sudo apt-key add -\n curl -s -L https://nvidia.github.io/nvidia-docker/$distribution/nvidia-docker.list | sudo tee /etc/apt/sources.list.d/nvidia-docker.list\n\n # 2. \u5b89\u88c5\u5e76\u91cd\u542f\n sudo apt-get update &amp;&amp; sudo apt-get install -y nvidia-container-toolkit\n sudo systemctl restart docker\n</code></pre> <p>\u5b89\u88c5\u5b8c\u6210\u540e\u53ef\u4ee5\u65b0\u5efa\u4e00\u4e2a\u5bb9\u5668\u6d4b\u8bd5\u4e00\u4e0b\uff1a</p> Bash<pre><code>sudo docker run -it --rm --name test_nvidia_docker --gpus all nvidia/cuda:11.0.3-base-ubuntu20.04 nvidia-smi\n</code></pre> <p>\u5176\u4e2d\u6700\u540e\u7684\u53c2\u6570<code>nvidia/cuda:11.1-base</code> \u662fNvidia\u5b98\u65b9\u7684\u955c\u50cf\uff0c\u9700\u8981\u6839\u636e\u5de5\u4f5c\u7ad9\u4e3b\u673a\u4e2d\u5b9e\u9645\u5b89\u88c5\u7684cuda\u7248\u672c\u8fdb\u884c\u4fee\u6539\uff0c\u7248\u672c\u53ef\u4ee5\u7528<code>nvcc -V</code>\u67e5\u770b\u3002</p> <p>\u8fdb\u5165\u5bb9\u5668\u4e4b\u540e\u53ef\u4ee5\u8dd1\u4e00\u4e0b<code>nvidia-smi</code>\u547d\u4ee4</p> <p></p>"},{"location":"linux/%E5%AE%89%E8%A3%85CUDA/","title":"CUDA\u5b89\u88c5","text":""},{"location":"linux/%E5%AE%89%E8%A3%85CUDA/#cuda","title":"\u5b89\u88c5CUDA","text":"<p>CUDA\u4e0b\u8f7d</p> Bash<pre><code>wget https://developer.download.nvidia.com/compute/cuda/11.8.0/local_installers/cuda_11.8.0_520.61.05_linux.run\nsudo sh cuda_11.8.0_520.61.05_linux.run\n</code></pre> <p>cuda\u5b89\u88c5\u540e\u65e5\u5fd7\u8f93\u51fa</p> Text Only<pre><code>===========\n= Summary =\n===========\n\nDriver:   Not Selected\nToolkit:  Installed in /usr/local/cuda-11.8/\n\nPlease make sure that\n -   PATH includes /usr/local/cuda-11.8/bin\n -   LD_LIBRARY_PATH includes /usr/local/cuda-11.8/lib64, or, add /usr/local/cuda-11.8/lib64 to /etc/ld.so.conf and run ldconfig as root\n\nTo uninstall the CUDA Toolkit, run cuda-uninstaller in /usr/local/cuda-11.8/bin\n***WARNING: Incomplete installation! This installation did not install the CUDA Driver. A driver of version at least 520.00 is required for CUDA 11.8 functionality to work.\nTo install the driver using this installer, run the following command, replacing &lt;CudaInstaller&gt; with the name of this run file:\n    sudo &lt;CudaInstaller&gt;.run --silent --driver\n\nLogfile is /var/log/cuda-installer.log\n</code></pre>"},{"location":"linux/%E5%AE%89%E8%A3%85CUDA/#cudnn","title":"\u5b89\u88c5CuDNN","text":"<p>\u8fdb\u5165\u5230CUDNN\u7684\u4e0b\u8f7d\u5b98\u7f51\uff1acuDNN Download | NVIDIA Developer\uff0c\u7136\u70b9\u51fbDownload\u5f00\u59cb\u9009\u62e9\u4e0b\u8f7d\u7248\u672c\uff0c\u5f53\u7136\u5728\u4e0b\u8f7d\u4e4b\u524d\u8fd8\u6709\u767b\u5f55\uff0c\u9009\u62e9\u7248\u672c\u754c\u9762\u5982\u4e0b\uff1a</p> <p></p> <p>\u6211\u4eec\u9009\u62e9\u548c\u4e4b\u524dcuda\u7248\u672c\u5bf9\u5e94\u7684cudnn\u7248\u672c\uff1a</p> <p></p> <p>\u4e0b\u8f7d\u4e4b\u540e\u662f\u4e00\u4e2a\u538b\u7f29\u5305\uff0c\u5bf9\u5b83\u8fdb\u884c\u89e3\u538b\uff0c\u547d\u4ee4\u5982\u4e0b\uff1a</p> Text Only<pre><code> tar -xzvf cudnn-11.0-linux-x64-v8.0.5.39.tgz\n</code></pre> <p>\u4f7f\u7528\u4ee5\u4e0b\u4e24\u6761\u547d\u4ee4\u590d\u5236\u8fd9\u4e9b\u6587\u4ef6\u5230CUDA\u76ee\u5f55\u4e0b\uff1a</p> Text Only<pre><code>sudo cp lib/* /usr/local/cuda-11.8/lib64/\nsudo cp include/* /usr/local/cuda-11.8/include/\n</code></pre> <p>\u62f7\u8d1d\u5b8c\u6210\u4e4b\u540e\uff0c\u53ef\u4ee5\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\u67e5\u770bCUDNN\u7684\u7248\u672c\u4fe1\u606f\uff1a</p> Text Only<pre><code>cat /usr/local/cuda/include/cudnn_version.h | grep CUDNN_MAJOR -A 2\n</code></pre> <p>\u53ef\u4ee5\u770b\u5230\u7248\u672c\u4fe1\u606f\u5982\u4e0b\uff0c\u4e3a<code>8.0.5</code>\uff1a</p> <p></p>"},{"location":"linux/%E5%AE%8C%E7%BE%8E%E8%A7%A3%E5%86%B3ubuntu20%E4%B8%ADtracker%E5%8D%A0%E7%94%A8%E8%BF%87%E5%A4%9Acpu%EF%BC%8C%E7%A1%AC%E7%9B%98%E7%9A%84bug/","title":"\u5b8c\u7f8e\u89e3\u51b3ubuntu20\u4e2dtracker\u5360\u7528\u8fc7\u591acpu\uff0c\u786c\u76d8\u7684bug","text":"<p>\u6700\u8fd1\u8fd0\u884c\u7a0b\u5e8f\uff0c\u4e00\u6bb5\u65f6\u95f4\u540e\u88ab\u63d0\u793a\u786c\u76d8\u4e0a\u6ca1\u6709\u53ef\u7528\u7684\u7a7a\u95f4\u4e86\uff0c\u7528\u78c1\u76d8\u67e5\u770b\u5668\u4e00\u770b\u539f\u6765\u662f .cache\u4e0b\u7684tracker\u5360\u7528\u4e86\u621170GB\u7684\u786c\u76d8\uff01\uff01\u7b80\u76f4\u4e27\u5fc3\u75c5\u72c2\uff0c\u800c\u4e14\u548c\u4e00\u4e2a\u8d2a\u5a6a\u7684\u91ce\u517d\u4e00\u6837\uff0c\u8fd8\u5728\u75af\u72c2\u7684\u589e\u957f\uff01\uff01</p> <p>\u770b\u4e86\u5f88\u591a\u5e16\u5b50\u90fd\u4e0d\u80fd\u5f88\u597d\u7684\u89e3\u51b3\uff0c\u6700\u540e\u7ec8\u4e8e\u627e\u5230\u4e86\u65b9\u6cd5\uff0c\u7279\u5730\u642c\u8fd0\u8fc7\u6765\uff1a</p> <p>track\u662flinux\u4e2d\u7684\u6587\u4ef6\u7d22\u5f15\u5de5\u5177\uff0cubuntu18\u4e4b\u524d\u662f\u9ed8\u8ba4\u4e0d\u5b89\u88c5\u7684\uff0c\u6240\u4ee5\u5728\u5347\u7ea7\u523020\u540e\u4f1a\u9ed8\u8ba4\u5b89\u88c5\uff0c\u5b83\u662f\u548c\u684c\u9762\u7a0b\u5e8f\u7ed1\u5b9a\u7684\uff0c\u751a\u81f3\u8fd8\u6709\u5f88\u591a\u4f9d\u8d56\u9879\uff0c\u5bfc\u81f4\u65e0\u6cd5\u5220\u9664\uff0c\u4e00\u65e6\u5220\u9664\u5f88\u591a\u4f9d\u8d56\u9879\u90fd\u4e0d\u80fd\u8fd0\u884c\uff0c\u7981\u7528\u4e5f\u5f88\u96be\u7981\u7528\u7684\u6389\uff0c\u800c\u4e14\u7981\u7528\u4e86\u8fd8\u4f1a\u5bfc\u81f4\u5176\u4ed6\u5e94\u7528\u7a0b\u5e8f\u542f\u52a8\u5931\u8d25\uff0c\u8fd9\u91cc\u4ecb\u7ecd\u4e00\u79cd\u66f4\u597d\u7684\u65b9\u6cd5\u3002</p> <p>1.\u9996\u5148\u6253\u5f00\u7ec8\u7aef\u8f93\u5165\u4e0b\u9762\u7684\u547d\u4ee4\uff0c\u76ee\u7684\u662f\u5c4f\u853dtracker systemd\u670d\u52a1\uff0c\u5b8c\u5168\u7981\u7528\u5f53\u524d\u7684\u670d\u52a1</p> Bash<pre><code>systemctl --user mask tracker-store.service tracker-miner-fs.service tracker-miner-rss.service tracker-extract.service tracker-miner-apps.service tracker-writeback.service\n</code></pre> <p>2.\u7136\u540e\u91cd\u542f\u8ddf\u8e2a\u5668\uff1a</p> Bash<pre><code>tracker reset --hard\n</code></pre> <p>3.\u91cd\u542f\u7cfb\u7edfreboot</p> <p>\u91cd\u542f\u540e\u68c0\u6d4b\uff1a</p> Bash<pre><code>tracker status\n</code></pre> <p>\u663e\u793a\u201c\u65e0\u6cd5\u5efa\u7acb\u5230 Tracker \u7684\u8fde\u63a5: Failed to load SPARQL backend: GDBus.Error:org.freedesktop.systemd1.UnitMasked: Unit tracker-store.service is masked.\u201d\u8bf4\u660e\u5df2\u7ecf\u5c4f\u853d</p> <p>\u8fd8\u53ef\u4ee5\u68c0\u6d4btracker\u7684\u8f85\u52a9\u7a0b\u5e8f\u662f\u5426\u88ab\u7981\u7528\uff1a</p> Bash<pre><code>tracker daemon\n</code></pre> <p>\u663e\u793a\u4e0b\u9762\u7684\u8bf4\u660e\u88ab\u6210\u529f\u5c4f\u853d</p> <p></p> <p>\u6700\u540e\u8fdb\u5165\u5230.cache/tracker\u4e0b\u5220\u6389\u90a3\u4e2a\u6700\u5927\u7684\u6587\u4ef6\u5c31\u884c\u4e86</p> <p>\u5982\u679c\u60f3\u64a4\u9500\u64cd\u4f5c\uff0c\u6062\u590d\u8ddf\u8e2a\u5668\uff1a</p> Bash<pre><code>systemctl --user unmask tracker-store.service tracker-miner-fs.service tracker-miner-rss.service tracker-extract.service tracker-miner-apps.service tracker-writeback.service\n</code></pre> <p>\u5176\u4ed6\u7684\u65b9\u6cd5\uff1a</p> <p>\u65b9\u6cd51\uff1a</p> Bash<pre><code>gsettings set org.freedesktop.Tracker.Miner.Files crawling-interval -2\n</code></pre> <p>\u65b9\u6cd52\uff1a\u505c\u6b62\u540e\u53f0\u7684tracker</p> Bash<pre><code>tracker daemon -t\n</code></pre>"},{"location":"linux/%E5%B0%86ubuntu%E8%AE%BE%E7%BD%AE%E4%B8%BANAS%E2%80%94%E2%80%9416.qBittorrent%20server%E5%AE%89%E8%A3%85%E4%B8%8E%E5%8D%B8%E8%BD%BD/","title":"\u5c06ubuntu\u8bbe\u7f6e\u4e3aNAS\u2014\u201416.qBittorrent server\u5b89\u88c5\u4e0e\u5378\u8f7d","text":"<p>2021-11-07 11:18:11 8\u70b9\u8d5e 47\u6536\u85cf 11\u8bc4\u8bba</p> <p>\u521b\u4f5c\u7acb\u573a\u58f0\u660e\uff1a\u672c\u4eba\u5c0f\u767d\uff0c\u53ea\u662f\u60f3\u901a\u8fc7\u672c\u5e73\u53f0\u8bb0\u5f55\u4e00\u4e9b\u6298\u817e\u4ee5Ubuntu\u7cfb\u7edf\u4e3a\u4e3b\u7684NAS\u8fc7\u7a0b\uff0c\u540c\u65f6\u65b9\u4fbf\u81ea\u5df1\u67e5\u9605\uff0c\u8fd8\u80fd\u8d5a\u70b9\u91d1\u5e01\uff0c\u4e8e\u662f\u5c31\u6709\u4e86\u8fd9\u4e2a\u5c0f\u7cfb\u5217\u3002</p>"},{"location":"linux/%E5%B0%86ubuntu%E8%AE%BE%E7%BD%AE%E4%B8%BANAS%E2%80%94%E2%80%9416.qBittorrent%20server%E5%AE%89%E8%A3%85%E4%B8%8E%E5%8D%B8%E8%BD%BD/#_1","title":"\u524d\u8a00","text":"<p>\u524d\u9762\u5b89\u88c5\u4e86Transmission-daemon\uff0c\u8be6\u89c1\u5c06\u300aubuntu\u8bbe\u7f6e\u4e3aNAS\u2014\u20141. Transmission-daemon\u5b89\u88c5\u300b\uff0c\u5728\u7528\u8fc7\u4e86\u4e00\u6bb5\u65f6\u95f4\u540e\uff0c\u4e2a\u4eba\u611f\u89c9Transmission\u4e0b\u8f7d\u901f\u5ea6\u5e76\u4e0d\u7b97\u7a33\u5b9a\uff0c\u6700\u9ebb\u70e6\u7684\u662f\u4e0d\u6b63\u5e38\u91cd\u542f\u7535\u8111\u540e\uff0c\u6709\u53ef\u80fd\u9700\u8981\u91cd\u65b0\u6821\u9a8c\u79cd\u5b50\uff0c\u6821\u9a8c\u65f6\u95f4\u6bd4\u8f83\u4e45\uff0c\u800c\u4e14\u6709\u65f6\u5019\u4f1a\u83ab\u540d\u5176\u5999\u51fa\u73b0\u8b66\u544a\u6216\u7ea2\u79cd\uff0c\u600e\u4e48\u6392\u67e5\u4e5f\u89e3\u51b3\u4e0d\u4e86\uff0c\u4e8e\u662f\u5c31\u60f3\u627e\u627e\u662f\u5426\u8fd8\u6709\u66f4\u5408\u9002\u7684\u670d\u52a1\u5668\u4e0b\u8f7dBT\u8f6f\u4ef6\u3002\u7136\u540e\u5c31\u53d1\u73b0\u4e86qBittorrent server\uff0c\u4e8e\u662f\u5c31\u53c8\u5f00\u59cb\u6298\u817e\u4e86\uff08\u53c8\u53ef\u4ee5\u6c34\u4e86\uff09\u3002\u4f46\u7ecf\u8fc7\u4e00\u6bb5\u65f6\u95f4\u4f7f\u7528\uff0c\u6211\u8fd8\u662f\u9047\u5230\u4e86\u5751\uff0c\u7531\u4e8e\u79cd\u5b50\u6570\u91cf\u589e\u52a0\uff0cqBittorrent\u5185\u5b58\u5360\u7528\u95ee\u9898\u8d8a\u6765\u8d8a\u4e25\u91cd\uff0c\u5bfc\u81f4\u6211\u670d\u52a1\u5668\u8fd0\u884c\u4e0d\u7a33\u5b9a\uff0c\u6700\u540e\u8fd8\u662f\u88ab\u6211\u5378\u8f7d\u3002</p>"},{"location":"linux/%E5%B0%86ubuntu%E8%AE%BE%E7%BD%AE%E4%B8%BANAS%E2%80%94%E2%80%9416.qBittorrent%20server%E5%AE%89%E8%A3%85%E4%B8%8E%E5%8D%B8%E8%BD%BD/#1","title":"1\u3001\u6b63\u5e38\u5b89\u88c5","text":"<p>1.1\u3001\u547d\u4ee4\u884c\u5b89\u88c5</p> <p>\u5728Ubuntu\u4e0b\u5b89\u88c5\u53ef\u4ee5\u76f4\u63a5\u9009\u62e9\u547d\u4ee4\u884c\u65b9\u5f0f\u5b89\u88c5</p> <p>sudo apt install qbittorrent-nox</p> <p>\u5b89\u88c5qbittorrent-nox</p> <p>\u9ed8\u8ba4\u7aef\u53e3\u662f8080\uff0c\u6211\u4fee\u6539\u4e3a8181\u540e\uff0c\u6309\u7167\u4e0b\u9762\u547d\u4ee4\u76f4\u63a5\u542f\u52a8webui\u754c\u9762</p> <p>qbittorrent-nox --webui-port=8181</p> <p>\u6cd5\u5f8b\u58f0\u660e\uff0c\u786e\u5b9a\u6309y</p> <p>\u6cd5\u5f8b\u58f0\u660e\uff0c\u786e\u5b9a\u6309y</p> <p>web-ui\u9ed8\u8ba4\u8d26\u53f7\u5bc6\u7801</p> <p>\u8bb0\u4f4f\u9ed8\u8ba4\u8d26\u53f7\uff1aadmin\uff0c\u9ed8\u8ba4\u5bc6\u7801\uff1aadminadmin\uff0c\u548c\u7aef\u53e3\u53f7\uff0c\u5728PC\u6d4f\u89c8\u5668\u4e2d\u8f93\u5165\u670d\u52a1\u5668\u5730\u5740+\u7aef\u53e3\u53f7\u767b\u5f55</p> <p>web\u767b\u5f55\u754c\u9762</p> <p>\u6b63\u5e38\u4f7f\u7528web\u754c\u9762</p> <p>1.2\u3001\u7248\u672c\u66f4\u65b0</p> <p>\u7a81\u7136\u53d1\u73b0\u4e0d\u662f\u6700\u65b0\u7248\uff08\u540e\u6765\u53d1\u73b0\u8fd9\u4e00\u7248\u662f\u5404\u5927PT\u7ad9\u70b9\u63a8\u8350\u7684\u7248\u672c\uff0c\u4e5f\u7b97\u662f\u6700\u7a33\u5b9a\u7684\u7248\u672c\uff09</p> <p>4.1.7\u7248\u672c</p> <p>\u5e94\u8be5\u662fUbuntu\u4e2d\u9ed8\u8ba4apt\u91cc\u7684\u6e90\u4e0d\u662f\u6700\u65b0</p> <p>\u6309\u7167\u5b98\u65b9\u6559\u7a0b\uff0c\u6dfb\u52a0\u66f4\u65b0\u6e90\uff0c\u518d\u8fdb\u884c\u8f6f\u4ef6\u5347\u7ea7\u5c31\u53ef\u4ee5\u4e86\uff0c\u622a\u56fe\u662f4.3.0.1\u7248\uff0c\u4f46\u6700\u65b0\u5df2\u7ecf\u662f4.3.9</p> <p>sudo add-apt-repository ppa:qbittorrent-team/qbittorrent-stable sudo apt update sudo apt upgrade</p> <p>\u66f4\u65b0\u540e4.3.0.1</p>"},{"location":"linux/%E5%B0%86ubuntu%E8%AE%BE%E7%BD%AE%E4%B8%BANAS%E2%80%94%E2%80%9416.qBittorrent%20server%E5%AE%89%E8%A3%85%E4%B8%8E%E5%8D%B8%E8%BD%BD/#2","title":"2\u3001\u8bbe\u7f6e\u5f00\u673a\u542f\u52a8","text":"<p>2.1 \u8fd9\u91cc\u901a\u8fc7\u521b\u5efa\u81ea\u5b9a\u4e49\u5f00\u673a\u670d\u52a1\u5b9e\u73b0\uff0c\u5148\u521b\u5efa\u7cfb\u7edf\u670d\u52a1</p> <p>sudo nano /etc/systemd/system/qbittorrent-nox.service</p> <p>\u7c98\u8d34\u4ee5\u4e0b\u5185\u5bb9\uff0c\u4fdd\u5b58ctr+o\uff0cctr+x\u9000\u51fa</p> <p>[Unit] Description=qBittorrent-nox After=network.target</p> <p>[Service] User=root Type=simple RemainAfterExit=yes ExecStart=/usr/bin/qbittorrent-nox --webui-port=8181 -d</p> <p>[Install] WantedBy=multi-user.target</p> <p>\u7f51\u4e0a\u5f88\u591a\u6559\u7a0b\u7684qbittorrent-nox.service \u7684\u914d\u7f6e\u6709\u95ee\u9898\uff0c\u8bbe\u7f6eType=forking \u53ef\u80fd\u5bfc\u81f4\u7528\u4e86\u4e00\u6bb5\u65f6\u95f4\u540e shell \u4f1a\u5361\u4f4f\uff0c\u65e0\u6cd5\u6b63\u5e38\u5f00\u673a\u542f\u52a8\uff0c\u5efa\u8bae\u5728ubuntu server 20 \u4e0a\u9762\uff0c\u5c06Type=forking \u7684\u914d\u7f6e\uff0c\u6539\u6210 Type=simple \u3002</p> <p>\u6ce8\u610f\u5185\u5bb9\u6211\u6dfb\u52a0\u4e86\u81ea\u5b9a\u4e49\u7aef\u53e3\u53f78181\uff0c\u5982\u679c\u4e0d\u9700\u8981\u6307\u5b9a\u7aef\u53e3\u53f7\uff0c\u5c06\u914d\u7f6e\u4e2d\u7684ExecStart=/usr/bin/qbittorrent-nox --webui-port=8181 -d\uff0c\u53ef\u4ee5\u8bbe\u7f6e\u4e3aExecStart=/usr/bin/qbittorrent-nox -d\uff0c\u9ed8\u8ba4\u7aef\u53e3\u53f7\u4e3a8080.</p> <p>2.2 \u542f\u52a8qbittorrent-nox\u5e76\u521b\u5efa\u670d\u52a1\u914d\u7f6e</p> <p>sudo systemctl daemon-reload # \u91cd\u65b0\u52a0\u8f7dsystemd\u5b88\u62a4\u7a0b\u5e8f systemctl enable qbittorrent-nox # \u4f7fqbittorrent-nox.service\u751f\u6548 systemctl start qbittorrent-nox # \u542f\u52a8qbittorrent-nox</p> <p>2.3 qbittorrent-nox\u63a7\u5236\u547d\u4ee4</p> <p>systemctl start qbittorrent-nox # \u542f\u52a8qbittorrent-nox systemctl restart qbittorrent-nox # \u91cd\u542fqbittorrent-nox systemctl stop qbittorrent-nox # \u505c\u6b62qbittorrent-nox systemctl status qbittorrent-nox # \u67e5\u770bqbittorrent-nox\u72b6\u6001</p>"},{"location":"linux/%E5%B0%86ubuntu%E8%AE%BE%E7%BD%AE%E4%B8%BANAS%E2%80%94%E2%80%9416.qBittorrent%20server%E5%AE%89%E8%A3%85%E4%B8%8E%E5%8D%B8%E8%BD%BD/#3qbittorrent-nox","title":"3\u3001\u5378\u8f7dqbittorrent-nox","text":"<p>\u5982\u679c\u4f60\u89c9\u5f97qbittorrent\u4e0d\u80fd\u6ee1\u8db3\u81ea\u5df1\u7684\u9700\u6c42\uff0c\u6216\u8005\u6ca1\u6709\u8fbe\u5230\u9884\u671f\uff0c\u60f3\u8981\u5220\u9664bittorrent\u5ba2\u6237\u7aef\uff0c\u53ef\u4ee5\u4f7f\u7528\u7cfb\u7edf\u5305\u7ba1\u7406\u5668\u6216\u8fd0\u884c\u547d\u4ee4\uff1a</p> <p>sudo apt remove qbittorrent-nox</p> <p>\u5982\u679c\u9700\u8981\u5378\u8f7dqbittorrent\u548c\u5b83\u7684\u5404\u79cd\u4f9d\u8d56\uff0c\u53ef\u4ee5\u4f7f\u7528\u5982\u4e0b\u547d\u4ee4</p> <p>sudo apt -y autoremove qbittorrent-nox</p> <p>\u5982\u679c\u9700\u8981\u5378\u8f7dqbittorrent\u548c\u5b83\u8bbe\u7f6e\u548c\u6570\u636e\u6587\u4ef6\uff0c\u53ef\u4ee5\u4f7f\u7528\u5982\u4e0b\u547d\u4ee4</p> <p>sudo apt-get -y purge qbittorrent-nox</p> <p>\u5982\u679c\u9700\u8981\u5378\u8f7dqbittorrent\u3001\u5b83\u8bbe\u7f6e\u548c\u6570\u636e\u6587\u4ef6\u4ee5\u53ca\u5404\u79cd\u4f9d\u8d56\uff0c\u53ef\u4ee5\u4f7f\u7528\u5982\u4e0b\u547d\u4ee4</p> <p>sudo apt-get -y autoremove --purge qbittorrent-nox</p>"},{"location":"linux/%E5%B0%86ubuntu%E8%AE%BE%E7%BD%AE%E4%B8%BANAS%E2%80%94%E2%80%9416.qBittorrent%20server%E5%AE%89%E8%A3%85%E4%B8%8E%E5%8D%B8%E8%BD%BD/#_2","title":"\u603b\u7ed3","text":"<p>qbittorrent-nox\u7684\u5b89\u88c5\u5176\u5b9e\u5f88\u7b80\u5355\uff0cweb-ui\u4f7f\u7528\u4e5f\u5f88\u987a\u624b\uff0c\u53ef\u80fd\u521a\u5f00\u59cb\u4f7f\u7528\u4e0d\u4e00\u5b9a\u901f\u5ea6\u5f88\u5feb\uff0c\u9700\u8981\u6dfb\u52a0 Tracker \u5217\u8868\uff0c\u901f\u5ea6\u5c31\u80fd\u8d77\u6765\u4e86\uff0c\u5f53\u7136\u5982\u679c\u53ea\u662f\u7528\u6765PT\u4e0b\u8f7d\u548c\u62a2\u4e0a\u4f20\u4e00\u822c\u4e5f\u662f\u8db3\u591f\u4e86\u3002</p> <p>\u5728\u4f7f\u7528\u4e86\u4e00\u6bb5\u65f6\u95f4\u540e\uff0c\u6211\u53d1\u73b0\u4e86qbittorrent\u5f88\u4e25\u91cd\u7684\u95ee\u9898\uff0c\u968f\u7740\u6211\u4e0b\u5f97\u79cd\u5b50\u8d8a\u6765\u8d8a\u591a\uff0c\u6211\u7684\u670d\u52a1\u5668\u53d8\u5f97\u5f88\u4e0d\u7a33\u5b9a\uff0c\u7ecf\u5e38\u6b7b\u673a\uff0c\u901a\u8fc7\u6392\u67e5\u53d1\u73b0\u662fqbittorrent\u5f97\u95ee\u9898\uff0c\u5b83\u5360\u7528\u4e86\u592a\u591a\u5f97\u5185\u5b58\uff0c\u76f4\u5230Ubuntu\u7cfb\u7edf\u6b7b\u673a\u3002\u4e00\u5f00\u59cb\u6211\u4f7f\u75288G\u5185\u5b58\uff0c\u5fc3\u60f3\u53ef\u80fd\u6211\u670d\u52a1\u5668\u4e0a\u670d\u52a1\u592a\u591a\uff0c\u5185\u5b58\u4e0d\u8db3\uff0c\u5c31\u52a0\u4e86\u4e00\u67618G\u5185\u5b58\uff0c\u7ed3\u679c\u8fd8\u662f\u5168\u88abqbittorrent\u5360\u6389\u4e86\u3002\u65e0\u5948\u6700\u540e\u8fd8\u662f\u653e\u5f03\u4e86qbittorrent\uff0c\u5728\u627e\u5230\u89e3\u51b3\u65b9\u6848\u524d\uff0c\u6682\u65f6\u662f\u4e0d\u6253\u7b97\u7528\u4e86\u3002\u5982\u679c\u5404\u4f4d\u7f51\u53cb\u6709\u597d\u5f97\u89e3\u51b3\u65b9\u6848\uff0c\u4e5f\u8bf7\u4e0d\u541d\u8d50\u6559\u3002</p> <p>version: \"3\" services:  nas-tools:  image: nastool/nas-tools:latest      ports:     - 3000:3000 # \u9ed8\u8ba4\u7684webui\u63a7\u5236\u7aef\u53e3       volumes:         - /home/media/nas-tools/config:/config # \u5192\u53f7\u5de6\u8fb9\u8bf7\u4fee\u6539\u4e3a\u4f60\u60f3\u4fdd\u5b58\u914d\u7f6e\u7684\u8def\u5f84         #- /\u4f60\u7684\u5a92\u4f53\u76ee\u5f55:/\u4f60\u60f3\u8bbe\u7f6e\u7684\u5bb9\u5668\u5185\u80fd\u89c1\u5230\u7684\u76ee\u5f55 # \u5a92\u4f53\u76ee\u5f55\uff0c\u591a\u4e2a\u76ee\u5f55\u9700\u8981\u5206\u522b\u6620\u5c04\u8fdb\u6765\uff0c\u9700\u8981\u6ee1\u8db3\u914d\u7f6e\u6587\u4ef6\u8bf4\u660e\u4e2d\u7684\u8981\u6c42         - /home/media/movies:/data/movies         - /home/media/disk:/data/disk          environment:         - PUID=0 # \u60f3\u5207\u6362\u4e3a\u54ea\u4e2a\u7528\u6237\u6765\u8fd0\u884c\u7a0b\u5e8f\uff0c\u8be5\u7528\u6237\u7684uid         - PGID=0 # \u60f3\u5207\u6362\u4e3a\u54ea\u4e2a\u7528\u6237\u6765\u8fd0\u884c\u7a0b\u5e8f\uff0c\u8be5\u7528\u6237\u7684gid         - UMASK=000 # \u63a9\u7801\u6743\u9650\uff0c\u9ed8\u8ba4000\uff0c\u53ef\u4ee5\u8003\u8651\u8bbe\u7f6e\u4e3a022         - NASTOOL_AUTO_UPDATE=true # \u5982\u9700\u5728\u542f\u52a8\u5bb9\u5668\u65f6\u81ea\u52a8\u5347\u7ea7\u7a0b\u7a0b\u5e8f\u8bf7\u8bbe\u7f6e\u4e3atrue         - REPO_URL=https://ghproxy.com/https://github.com/NAStool/nas-tools.git # \u5f53\u4f60\u8bbf\u95eegithub\u7f51\u7edc\u5f88\u5dee\u65f6\uff0c\u53ef\u4ee5\u8003\u8651\u89e3\u91ca\u672c\u884c\u6ce8\u91ca          restart: always           network_mode: bridge           hostname: nas-tools           container_name: nas-tools</p>"},{"location":"linux/%E6%89%93%E5%8D%B0%E6%9C%BA%E5%85%B1%E4%BA%AB/","title":"\u6253\u5370\u673a\u5171\u4eab","text":""},{"location":"linux/%E6%89%93%E5%8D%B0%E6%9C%BA%E5%85%B1%E4%BA%AB/#airprintsmb","title":"\u6253\u5370\u53ca\u626b\u63cf\u529f\u80fd\uff08\u5305\u542bAirprint\u53caSMB\u5171\u4eab\u6253\u5370\u673a\u7b49\uff09","text":""},{"location":"linux/%E6%89%93%E5%8D%B0%E6%9C%BA%E5%85%B1%E4%BA%AB/#samba","title":"Samba\u6a21\u5f0f\u5171\u4eab\u6253\u5370\u673a","text":"<p>\u8fd9\u91cc\u7684\u914d\u7f6e\u64cd\u4f5c\u4e5f\u90fd\u662f\u5728ssh\u7ec8\u7aef\u91cc\u6267\u884c\u7684\u3002</p> <ul> <li>\u9a71\u52a8</li> <li>\u7f51\u7edc\u5171\u4eab\u529f\u80fdSMB</li> </ul> <p>\u9a71\u52a8\u5b89\u88c5\u8fd9\u4e00\u5757\u6211\u53ea\u80fd\u7565\u8fc7\u4e86\uff0c\u6839\u636e\u6253\u5370\u673a\u7684\u578b\u53f7\u6765\u51b3\u5b9a\u3002\u6211\u89c1\u8fc7\u7684\u5927\u591a\u6570\u5bb6\u7528\u6253\u5370\u673a\u5728ubuntu\u4e0a\u90fd\u662f\u514d\u5b89\u88c5\u7684\uff0c\u8fd9\u4e00\u70b9\u6bd4windows\u4f3c\u4e4e\u8981\u66f4\u5f3a\u4e00\u4e9b\u3002\u6211\u5728\u8fd9\u53f0\u670d\u52a1\u5668\u4e0a\u8fde\u63a5\u7684\u662fHP M1005 MFP\uff0c\u5c5e\u4e8e\u5f88\u5e38\u89c1\u7684\u6253\u5370\u673a\u3002</p> <p>\u5982\u679c\u6709\u7279\u522b\u7684\u9700\u6c42\uff0c\u53ef\u4ee5\u67e5\u770bhttps://openprinting.org/drivers</p> <p>\u5982\u679c\u4f60\u662f\u60e0\u666e\uff08hp\uff09\u6253\u5370\u673a\uff0c\u90a3\u4e48\u4e00\u4e2a\u7b80\u5355\u547d\u4ee4\u884c\u4e5f\u53ef\u4ee5\u5e2e\u4f60\u5b89\u88c5\u6253\u5370\u673a\uff1a</p> Text Only<pre><code>sudo apt install hplip\n</code></pre> <p>\u9664\u6b64\u4ee5\u5916\u7684\u54c1\u724c\uff0c\u53ef\u4ee5\u8bd5\u8bd5cups\u670d\u52a1\u7684\u517c\u5bb9\u9a71\u52a8</p> Text Only<pre><code>sudo apt install printer-driver-gutenprint\n</code></pre> <p>SMB\u5171\u4eab\u670d\u52a1\u5f00\u542f\u4ee5\u540e\uff0c\u6253\u5370\u673a\u5c31\u53ef\u4ee5\u76f4\u63a5\u8fde\u63a5\u4e86\u3002\uff08windows\u4e0b\u8fd8\u662f\u8981\u5b89\u88c5\u9a71\u52a8\uff09\u8fde\u63a5\u65b9\u5f0f\u5982\u4e0b\uff1b</p> <p>Win+R \u6253\u5f00\u8fd0\u884c\uff0c\u8f93\u5165 \\\u670d\u52a1\u5668\u7684\u540d\u5b57 \u6216\u8005 \\\u670d\u52a1\u5668\u7684ip\u5730\u5740</p> <p></p> <p></p> <p>\u6b64\u65f6\u6253\u5370\u673a\u5e94\u8be5\u5df2\u7ecf\u76f4\u63a5\u51fa\u73b0\u5728\u5217\u8868\u5185\u4e86\uff0c\u56e0\u6b64\u53f3\u952e\u70b9\u51fb\u8fde\u63a5\uff0c\u7b49\u5f85\u5b89\u88c5\u5373\u53ef\u3002\u5982\u679c\u63d0\u793a\u9a71\u52a8\u672a\u5b89\u88c5\u7b49\u95ee\u9898\uff0c\u53ef\u4ee5\u5b89\u88c5\u9a71\u52a8\u540e\u7ee7\u7eed\u8fde\u63a5\u3002\u8fde\u63a5\u5b8c\u6bd5\u4ee5\u540e\uff0c\u6587\u4ef6\u6253\u5370\u65f6\u5373\u53ef\u9009\u62e9\u8be5\u6253\u5370\u673a~</p>"},{"location":"linux/%E6%89%93%E5%8D%B0%E6%9C%BA%E5%85%B1%E4%BA%AB/#airprint","title":"Airprint\u6a21\u5f0f\u5171\u4eab\u6253\u5370\u673a","text":"<p>\u5982\u679c\u4f60\u6709Phone\u3001iPad\u3001Mac\u6253\u5370\u7684\u9700\u6c42\uff0c\u90a3\u4e48Airprint\u518d\u597d\u4e0d\u8fc7\u4e86~</p> <p>\u672c\u6559\u7a0b\u662f\u6839\u636e\u5982\u4e0b\u4e24\u4e2a\u7f51\u5740\u7684\u6559\u7a0b\u7efc\u5408\u6d4b\u8bd5\u5f97\u6765\uff0c\u5b89\u88c5\u5df2\u7ecf\u6210\u529f\uff0c\u5e76\u5df2\u6210\u529f\u670d\u52a1\uff1b</p> <p>Step-by-step - AirPrint Ubuntu 20.04 Installation Guide \u2022 tutorialforlinux.com</p> <p>Set Up CUPS Print Server on Ubuntu (Bonjour, IPP, Samba, AirPrint)</p> <p>\u5982\u679c\u6709\u7591\u95ee\u7684\u53ef\u4ee5\u5728\u539f\u7f51\u7ad9\u4e0a\u8fdb\u884c\u67e5\u770b\uff0c\u6216\u8bc4\u8bba\u533a\u95ee\u6211~</p> <p>\u5b89\u88c5\u8fc7\u7a0b\u4e2d\u53ef\u80fd\u4f1a\u9047\u5230\u62a5\u9519\u7b49\u95ee\u9898\uff0c\u5efa\u8bae\u7528\u8c37\u6b4c\u5bfb\u627e\u65b9\u6848\u5662~\u6211\u8fd1\u671f\u53ef\u80fd\u6ca1\u6709\u592a\u591a\u65f6\u95f4\u56de\u7b54\u95ee\u9898</p> <p>\u542f\u7528Airprint\u9700\u8981\u4e24\u4e2a\u670d\u52a1\uff0c\u4e00\u4e2a\u662fcups,\u53e6\u4e00\u4e2a\u662favahi</p> <p>\u4e0b\u9762\u5f00\u59cb\u5b89\u88c5CUPS\u670d\u52a1\u3002\u547d\u4ee4\u884c\u8bf7\u4f9d\u6b21\u6267\u884c\uff0c\u5b89\u88c5\u5b8c\u6bd5\u540e\u518d\u6267\u884c\u4e0b\u4e00\u6761\uff1b</p> Text Only<pre><code>sudo apt install cups cups-client cups-filters cups-ipp-utils\n\nsudo service cups start\n\nsudo systemctl enable cups\n</code></pre> <p>\u68c0\u67e5\u6253\u5370\u673a\u662f\u5426\u6b63\u5e38\uff0c\u914d\u7f6e\u6587\u4ef6\u662f\u5426\u5b58\u5728\uff1b</p> Text Only<pre><code>sudo cat /etc/cups/printers.conf\n</code></pre> <p></p> <p>\u53ef\u4ee5\u770b\u5230\u56fe\u4e2d\u7684\u6253\u5370\u673a\u4fe1\u606f\uff0c</p> <p>\u4e0b\u9762\u5f00\u59cb\u5b89\u88c5Avahi\u670d\u52a1\u3002</p> Text Only<pre><code>sudo apt install avahi-daemon\n\nsudo service avahi-daemon start\n\nsudo systemctl enable avahi-daemon\n\n# Ubuntu20.04\u7cfb\u7edf \u5982\u679c\u6709\u9632\u706b\u5899\uff0c\u5219\u6267\u884c\u4ee5\u4e0b\u547d\u4ee4\u3002\u7cfb\u7edf\u9ed8\u8ba4\u672a\u5f00\u542f\u9632\u706b\u5899\nsudo ufw allow 5353/udp\n</code></pre> <p>\u4e0b\u8f7d Airprint\u7684\u914d\u7f6e\u751f\u6210python\u811a\u672cairprint-generate.py</p> <p>\u56fd\u5185\u53ef\u80fd\u6ca1\u6cd5\u76f4\u63a5\u8bbf\u95eegithub\u4e0b\u8f7d\uff0c\u6211\u5728\u8fd9\u91cc\u653e\u5230\u767e\u5ea6\u7f51\u76d8\u91cc</p> <p>\u7f51\u76d8\u94fe\u63a5 \u63d0\u53d6\u7801 kxzj</p> <p>\u89e3\u538b\u51fa\u6765\u7684airprint-generate.py\u6267\u884c\u6743\u9650\u6dfb\u52a0\u4e00\u4e0b,\u7136\u540e\u7528python\u6267\u884c\uff08\u5982\u679cpython\u73af\u5883\u7f3a\u4ec0\u4e48\u5305\uff0c\u53ef\u80fd\u8fd8\u9700\u8981\u5b89\u88c5\uff09</p> Text Only<pre><code>chmod +x ~/Downloads/airprint-generate.py \n\nsudo python ~/Downloads/airprint-generate.py\n</code></pre> <p>\u6267\u884c\u5b8c\u6bd5\u4ee5\u540e\uff0c\u4ed6\u4f1a\u5728\u811a\u672c\u6240\u5728\u76ee\u5f55\u4e0b\u751f\u6210\u6253\u5370\u673a\u5bf9\u5e94\u7684Airprintxxxxx.service\uff0c\u5982\u679c\u6709\u591a\u4e2a\u6253\u5370\u673a\uff0c\u5219\u4f1a\u751f\u6210\u591a\u4e2a\u3002\u6211\u8fd9\u91cc\u5c06\u751f\u6210\u7684\u5168\u90e8service\u90fd\u79fb\u52a8\u5230/etc/avahi/services/ \u3002\u4f60\u4e5f\u53ef\u4ee5\u4ec5\u79fb\u52a8\u4f60\u6240\u9700\u8981\u7684\u6253\u5370\u673a\uff1b</p> Text Only<pre><code>sudo mv ~/Downloads/AirPrint*.service /etc/avahi/services/\n</code></pre> <p>\u4e0b\u9762\u5f00\u59cb\u914d\u7f6ecups\uff0c\u914d\u7f6e\u7684\u9009\u9879\u6709\u70b9\u591a\uff0c\u4f46\u8fd9\u91cc\u8fd8\u6bd4\u8f83\u91cd\u8981\uff0c\u6211\u7b2c\u4e00\u6b21\u5c31\u662f\u8fd9\u91cc\u6ca1\u914d\u7f6e\u597d\u5bfc\u81f4\u624b\u673a\u4e0a\u663e\u793a\u51fa\u4e86airprint\u6253\u5370\u673a\u5374\u65e0\u6cd5\u6253\u5370\uff1b</p> Text Only<pre><code>sudo nano /etc/cups/cupsd.conf\n\n#\u5728\u7f16\u8f91\u5668\u6253\u5f00\u7684\u6587\u4ef6\u91cc\u627e Browsing off\uff0c\u6539\u4e3a\nBrowsing On\n\n# \u4fee\u6539 Listen localhost:631\nPort 631\n\n# \u4fee\u6539\u5982\u4e0b\u51e0\u884c\n#&lt;Location /&gt;\n#  Order allow,deny\n#&lt;/Location&gt;\n\n&lt;Location /&gt;\n  Order allow,deny\n  Allow @LOCAL\n&lt;/Location&gt;\n\n# \u8def\u5f84 /admin\u4e0b\u4e5f\u540c\u6837\u4fee\u6539\n#&lt;Location /admin&gt;\n#  Order allow,deny\n#  Allow @LOCAL\n#&lt;/Location&gt;\n\n&lt;Location /admin&gt;\n  Order allow,deny\n  Allow @LOCAL\n&lt;/Location&gt;\n\n#\u6700\u540e\u4e00\u884c\uff0c\u6dfb\u52a0\uff1a\nServerAlias * Port 631 Listen /var/run/cups/cups.sock\n</code></pre> <p>Ctrl+X\u9009\u62e9\u4fdd\u5b58\u5e76\u9000\u51fa\uff0c\u7136\u540e\u91cd\u542fCUPS\u548cAvahi</p> Text Only<pre><code>sudo /etc/init.d/cups restart\n\nsudo service avahi restart\n</code></pre> <p>\u5982\u679c\u4e00\u5207\u670d\u52a1\u90fd\u542f\u52a8\u6b63\u5e38\uff0c\u6b64\u65f6\u6253\u5370\u673a\u5df2\u7ecf\u53ef\u4ee5\u5728\u624b\u673a\u4e0a\u8bbf\u95ee\u4e86\u3002</p> <p></p>"},{"location":"linux/%E6%9E%84%E5%BB%BA%E6%9C%9F/","title":"\u6784\u5efa\u671f","text":"<p>TensorRT API \u6784\u5efa\u6a21\u578b\u63a8\u7406\u6d41\u7a0b\u3002</p> <p>TensorRT \u6784\u5efa\u6a21\u578b\u63a8\u7406\u4e00\u822c\u6709\u4e09\u79cd\u65b9\u5f0f\uff1a(1) \u4f7f\u7528\u6846\u67b6\u81ea\u5e26\u7684 TensorRT \u63a5\u53e3\uff0c\u5982 TF-TRT\u3001Torch-TRT\uff1b(2) \u4f7f\u7528 Parser \u524d\u7aef\u89e3\u91ca\u5668\uff0c\u5982 TF / Torch / \u2026 -&gt; ONNX -&gt; TensorRT\uff1b(3) \u4f7f\u7528 TensorRT \u539f\u751f API \u642d\u5efa\u7f51\u7edc\u3002\u5f53\u7136\u96be\u5ea6\u548c\u6613\u7528\u6027\u80af\u5b9a\u662f\u7531\u4f4e\u5230\u9ad8\u7684\uff0c\u4f34\u968f\u800c\u6765\u7684\u6027\u80fd\u548c\u517c\u5bb9\u6027\u4e5f\u662f\u7531\u4f4e\u5230\u9ad8\u7684\u3002\u8fd9\u91cc\u6211\u4eec\u76f4\u63a5\u4ecb\u7ecd\u7b2c\u4e09\u79cd\u65b9\u5f0f\u3002</p> <p>\u6587\u7ae0\u76ee\u5f55  1 TensorRT API \u6784\u5efa\u6d41\u7a0b  2 \u6784\u5efa\u9636\u6bb5  2.1 \u6784\u5efa Logger  2.2 \u6784\u5efa Builder  2.3 \u6784\u5efa BuilderConfig  2.4 \u6784\u5efa Network  2.5 \u6784\u5efa SerializedNetwork  3 \u8fd0\u884c\u9636\u6bb5  3.1 \u6784\u5efa Engine  3.2 \u6784\u5efa Context  3.3 \u6784\u5efa Buffer \u76f8\u5173  3.4 \u6784\u5efa Execute  4 \u6574\u6d41\u7a0b\u6784\u5efa\u793a\u4f8b\u4ee3\u7801 1 TensorRT API \u6784\u5efa\u6d41\u7a0b \u2003 TensorRT API \u7684\u6574\u4e2a\u6784\u5efa\u8fc7\u7a0b\u53ef\u4ee5\u5206\u4e3a \u6784\u5efa\u9636\u6bb5 \u548c \u8fd0\u884c\u9636\u6bb5 \uff0c\u5176\u4e2d\u6784\u5efa\u9636\u6bb5\u6307\u7684\u662f\u6dfb\u52a0\u7b97\u5b50&amp;\u6570\u636e\u3001\u7f51\u7edc\u53c2\u6570\u914d\u7f6e\u3001\u8fdb\u884c\u7b97\u5b50\u95f4\u903b\u8f91\u8fde\u63a5\u4ee5\u7ec4\u5efa\u6a21\u578b\u7f51\uff0c\u6765\u751f\u6210 TensorRT Engine\uff1b\u8fd0\u884c\u9636\u6bb5\u5219\u53ef\u4ee5\u629b\u5f00\u7b97\u5b50\u5b9e\u73b0\uff0c\u76f4\u63a5\u8c03\u7528\u6784\u5efa\u9636\u6bb5\u751f\u6210\u7684 TensorRT Engine \u8fdb\u884c\u524d\u5411\u63a8\u7406\u8ba1\u7b97\u3002\u4e24\u4e2a\u9636\u6bb5\u4e2d\u90fd\u6709\u4e00\u4e9b\u6bd4\u8f83\u5173\u952e\u7684\u6a21\u5757\uff0c\u5728\u4e0b\u9762\u7684\u56fe\u4e2d\u4e88\u4ee5\u5217\u51fa\uff1a</p> <p>\u4e0b\u9762\u5206\u522b\u8fdb\u884c\u7ec6\u81f4\u4ecb\u7ecd\u3002</p> <p>2 \u6784\u5efa\u9636\u6bb5 2.1 \u6784\u5efa Logger \u2003 \u9996\u5148\u662f\u6784\u5efa Logger \u65e5\u5fd7\u8bb0\u5f55\u5668\uff1a</p> <p>logger = trt.Logger(trt.Logger.VERBOSE) 1. \u2003 \u53ef\u9009\u53c2\u6570\uff1aVERBOSE\u3001INFO\u3001WARNING\u3001ERROR\u3001INTERNAL_ERROR\uff0c\u4ea7\u751f\u4e0d\u540c\u7b49\u7ea7\u7684\u65e5\u5fd7\uff0c\u7531\u8be6\u7ec6\u5230\u7b80\u7565\uff1a</p> <p>VERIOSE\uff1a[TensorRT] VERBOSE\uff1aGraph construction and optimization completed in 0.000261295 seconds. INFO\uff1a[TensorRT] INFO\uff1aDetected 1 inputs and 1 output network tensors. WARNING\uff1a[TensorRT] WARNING\uff1aTensor DataType is determined at build time for tensors not marked as input or output. ERROR\uff1a[TensorRT] ERROR\uff1aINVALID_CONFIG\uff1aDeserialize the cuda engine failed. INTERNAL_ERROR\uff1a[TensorRT] ERROR\uff1a\u2026/builder/tacticOptimizer.cpp (1820) - TRTInternal Error in computeCosts\uff1a0 (Could not find any implementation for node (Unnamed Layer* 0) [TopK].) 2.2 \u6784\u5efa Builder \u2003 \u7136\u540e\u662f\u6784\u5efa Builder \u7f51\u7edc\u5143\u6570\u636e\uff0c\u8fd9\u662f\u6a21\u578b\u642d\u5efa\u7684\u5165\u53e3\uff0c\u7f51\u7edc\u7684 TensorRT \u5185\u90e8\u8868\u793a\u4ee5\u53ca\u53ef\u6267\u884c\u7a0b\u5e8f\u5f15\u64ce\uff0c\u90fd\u662f\u7531\u8be5\u5bf9\u8c61\u7684\u6210\u5458\u65b9\u6cd5\u751f\u6210\u7684\uff0c\u6765\u770b Builder \u662f\u600e\u4e48\u6784\u5efa\u7684\uff1a</p> <p>builder = trt.Builder(logger) 1. \u2003 \u6765\u770b Builder \u7684\u5e38\u7528\u6210\u5458\uff1a</p> <p>builder.max_batch_size = 256\uff1a\u7528\u4e8e\u6307\u5b9a\u6700\u5927 batch size\uff0c\u5728 static shape \u6a21\u5f0f\u4e0b\u4f7f\u7528\uff1b builder.max_workspace_size = 1 &lt;&lt; 30\uff1a\u7528\u4e8e\u6307\u5b9a\u6700\u5927\u53ef\u7528\u663e\u5b58\uff0c\u5355\u4f4d\u4e3a byte ( \u6ce8\u610f\uff1a\u8be5\u9879\u5373\u5c06\u88ab\u5e9f\u5f03)\uff1b builder.fp16_mode = True / False\uff1a\u7528\u4e8e\u5f00\u542f / \u5173\u95ed fp16 \u6a21\u5f0f ( \u6ce8\u610f\uff1a\u8be5\u9879\u5373\u5c06\u88ab\u5e9f\u5f03)\uff1b builder.int8_mode = True / False\uff1a\u7528\u4e8e\u5f00\u542f / \u5173\u95ed int8 \u6a21\u5f0f ( \u6ce8\u610f\uff1a\u8be5\u9879\u5373\u5c06\u88ab\u5e9f\u5f03)\uff1b builder.int8_calibrator = \u2026 \uff1aint8 \u6a21\u5f0f\u7684\u6821\u51c6\u8868 ( \u6ce8\u610f\uff1a\u8be5\u9879\u5373\u5c06\u88ab\u5e9f\u5f03)\uff1b builder.strict_type_constraints = True / False\uff1a\u5f00\u542f / \u5173\u95ed\u5f3a\u5236\u7cbe\u5ea6\u6a21\u5f0f ( \u6ce8\u610f\uff1a\u8be5\u9879\u5373\u5c06\u88ab\u5e9f\u5f03)\uff1b builder.refittable = True / False\uff1a\u5f00\u542f / \u5173\u95ed refit \u6a21\u5f0f ( \u6ce8\u610f\uff1a\u8be5\u9879\u5373\u5c06\u88ab\u5e9f\u5f03)\uff1b \u2003 \u4f60\u53ef\u80fd\u4f1a\u6bd4\u8f83\u597d\u5947\uff0c\u53ef\u4ee5\u770b\u5230\u4e0a\u9762\u5f88\u591a\u7684\u914d\u7f6e\u9879\u5373\u5c06\u88ab\u5e9f\u5f03\uff0c\u8fd9\u4e0d\u662f\u8bf4\u8fd9\u4e9b\u914d\u7f6e\u9879\u4e0d\u80fd\u7528\u4e86\uff0c\u800c\u662f\u628a\u5b83\u4eec\u79fb\u5230\u4e86 BuilderConfig \u4e2d\u8fdb\u884c\u914d\u7f6e\u3002\u9700\u8981\u6ce8\u610f\u7684\u4e00\u70b9\u662f\uff0c\u73b0\u5728 NLP \u91cc\u7528\u7684\u6bd4\u8f83\u591a\u7684 Dynamic Shape \u6a21\u5f0f\u5fc5\u987b\u7528 BuilderConfig \u53ca\u5176\u76f8\u5173 API\uff0c\u90a3\u4e48\u7d27\u63a5\u7740\u6211\u4eec\u6765\u770b BuilderConfig\u3002</p> <p>2.3 \u6784\u5efa BuilderConfig \u2003 \u6784\u5efa BuilferConfig \u7f51\u7edc\u5143\u6570\u636e\u7684\u9009\u9879\uff0c\u8be5\u9879\u8d1f\u8d23\u8bbe\u7f6e\u6a21\u578b\u7684\u4e00\u4e9b\u53c2\u6570\uff0c\u5982\u662f\u5426\u5f00\u542f fp16 \u6a21\u5f0f\u3001int8 \u6a21\u5f0f\u7b49\u3002BuilderConfig \u662f\u5efa\u7acb\u5728 Builder \u57fa\u7840\u4e4b\u4e0a\u7684\uff1a</p> <p>config = builder.create_builder_config() 1. \u2003 \u6765\u770b BuilderConfig \u7684\u5e38\u7528\u6210\u5458\uff1a</p> <p>config.max_workspace_size = 1 &lt;&lt; 30\uff1a\u7528\u4e8e\u6307\u5b9a\u6700\u5927\u53ef\u7528\u663e\u5b58\uff1b config.max_batch_size = \u2026 \uff1a\u7528\u4e8e\u6307\u5b9a\u6700\u5927 batch\uff0c\u82e5\u6ca1\u6709\u914d\u7f6e\u8be5\u6210\u5458\uff0c\u5219\u9ed8\u8ba4 Explicit batch \u6a21\u5f0f\uff1b config.flag = \u2026 \uff1a\u7528\u4e8e\u8bbe\u7f6e\u6807\u5fd7\u4f4d\uff0c\u5982 1 &lt;&lt; int(trt.BuilderFlag.FP16) \u6216 1 &lt;&lt; int(trt.BuilderFlag.INT8) \uff1b config.int8_calibrator = \u2026 \uff1aint8 \u6a21\u5f0f\u7684\u6821\u51c6\u8868\uff1b \u7b49\u7b49\u66f4\u591a\u9ad8\u7ea7\u7528\u6cd5 \u2003 \u5728\u4ee5\u4e0a\u7684 \u7b49\u7b49\u66f4\u591a\u9ad8\u7ea7\u7528\u6cd5 \u4e2d\u8fd8\u6709\u5982 set_tactic_sources (\u9650\u5236\u7b97\u6cd5\u5b9e\u73b0)\u3001set_timing_cache (\u8282\u7ea6\u6784\u5efa\u65f6\u95f4)\u3001algorithm_selector (\u7cbe\u786e\u63a7\u5236\u8282\u70b9\u7b97\u6cd5) \u7b49\u3002</p> <p>2.4 \u6784\u5efa Network \u2003 \u6784\u5efa Network \u8ba1\u7b97\u56fe\uff0c\u662f \u6700\u4e3a\u6838\u5fc3\u7684\u4e00\u4e2a\u6a21\u5757\u3002Network \u662f\u7f51\u7edc\u7684\u4e3b\u4f53\uff0c\u4f7f\u7528 TensorRT API \u642d\u5efa\u6a21\u578b\uff0c\u5e76\u4e14\u6807\u8bb0\u7f51\u7edc\u7684\u8f93\u5165\u8f93\u51fa\u8282\u70b9\uff0c\u4ee5\u628a\u5404\u4e2a\u8ba1\u7b97\u8282\u70b9\u7ec7\u8fde\u6210\u7f51\u72b6\uff1a</p> <p>network = builder.create_network() 1. \u5e38\u7528\u53c2\u6570\uff1a1 &lt;&lt; int(tensorrt.NetworkDefinitionCreationFlag.EXPLICIT_BATCH)\uff0c\u4f7f\u7528 Explicit Batch \u6a21\u5f0f\uff1b \u5e38\u7528\u65b9\u6cd5\uff1a network.add_input(\u2018oneTensor\u2019, trt.float32, (3, 4, 5)) \u6807\u8bb0\u7f51\u7edc\u8f93\u5165\u5f20\u91cf; convLayer = network.add_convolution_nd(XXX) \u6dfb\u52a0\u5404\u79cd\u7f51\u7edc\u5c42; network.mark_output(convLayer.get_output(0)) \u6807\u8bb0\u7f51\u7edc\u8f93\u51fa\u5f20\u91cf;</p> <p>2.5 \u6784\u5efa SerializedNetwork \u2003 \u6784\u5efa SerializedNetwork\uff0c\u8fd9\u662f\u7f51\u7edc\u7684 TensorRT \u5185\u90e8\u8868\u793a\uff0c\u8fd9\u4e2a\u5730\u65b9\u7684\u540e\u7eed\u5904\u7406\u5c31\u6709\u4e24\u79cd\u9009\u62e9\uff1a(1) \u53ef\u4ee5\u7528\u5b83\u751f\u6210\u53ef\u6267\u884c\u7684\u63a8\u7406\u5f15\u64ce\u76f4\u63a5\u8fdb\u884c\u540e\u7eed\u63a8\u7406\uff0c\u8fd9\u6837\u5c31\u4e0d\u7528\u53cd\u5e8f\u5217\u5316\u7684\u8fc7\u7a0b\uff1b(2) \u628a\u5b83\u5e8f\u5217\u5316\u4fdd\u5b58\u4e3a\u6587\u4ef6\uff0c\u65b9\u4fbf\u4ee5\u540e\u91cd\u65b0\u8bfb\u53d6\u548c\u4f7f\u7528\uff0c\u8fd9\u91cc\u5c31\u9700\u8981\u6d89\u53ca\u5230\u53cd\u5e8f\u5217\u5316\uff0c\u8fd9\u662f\u5de5\u7a0b\u90e8\u7f72\u5e38\u7528\u7684\u65b9\u5f0f\u3002\u6765\u770b\u770b\u600e\u4e48\u6784\u5efa SerializedNetwork\uff1a</p> <p>engineString = builder.build_serialized_network(network, config) 1. \u2003 \u8fd9\u6837\u5c31\u5b8c\u6210\u4e86\u6784\u5efa\u9636\u6bb5\uff0c\u4e0b\u9762\u6765\u770b\u8fd0\u884c\u9636\u6bb5\u3002</p> <p>3 \u8fd0\u884c\u9636\u6bb5 \u2003 \u8fd0\u884c\u9636\u6bb5\u76f8\u6bd4\u6784\u5efa\u9636\u6bb5\uff0c\u8fc7\u7a0b\u8f83\u4e3a\u7b80\u6d01\u660e\u4e86\u3002\u4e0b\u9762\u6765\u770b\u3002</p> <p>3.1 \u6784\u5efa Engine \u2003 \u6784\u5efa Engine\uff0cEngine \u662f\u63a8\u7406\u5f15\u64ce\uff0c\u662f\u6a21\u578b\u8ba1\u7b97\u7684\u6838\u5fc3\uff0c\u53ef\u4ee5\u7406\u89e3\u4e3a\u53ef\u6267\u884c\u7a0b\u5e8f\u7684\u4ee3\u7801\u6bb5\u3002\u6765\u770b Engine \u662f\u600e\u4e48\u6784\u5efa\u7684\uff1a</p> <p>engine = trt.Runtime(logger).deserialize_cuda_engine(engineString) 1. 3.2 \u6784\u5efa Context \u2003 \u6784\u5efa Context\uff0c\u4e3b\u8981\u7528\u4e8e\u8ba1\u7b97\u7684 GPU \u4e0a\u4e0b\u6587\uff0c\u7c7b\u6bd4 cpu \u4e0a\u7684\u8fdb\u7a0b\u6982\u5ff5\uff0c\u662f\u6267\u884c\u63a8\u7406\u5f15\u64ce\u7684\u4e3b\u4f53\u3002\u6765\u770b Context \u662f\u600e\u4e48\u6784\u5efa\u7684\uff1a</p> <p>context = engine.create_execution_context() 1. 3.3 \u6784\u5efa Buffer \u76f8\u5173 \u2003 \u6784\u5efa Buffer \u76f8\u5173\uff0c\u4e3b\u8981\u6d89\u53ca\u6570\u636e\u7684\u51c6\u5907\uff0c\u5305\u62ec Host \u7aef\u548c Device \u7aef\uff0c\u4ee5\u53ca\u6570\u636e\u7684\u62f7\u8d1d\uff0c\u5982\u6267\u884c\u63a8\u7406\u524d\u9700\u8981\u5c06 CPU \u6570\u636e\u62f7\u8d1d\u5230 GPU \u4e0a\uff0c\u5373 Host -&gt; Device\uff1b\u5f53\u63a8\u7406\u5b8c\u6210\u540e\uff0c\u9700\u8981\u5c06\u7ed3\u679c\u6570\u636e\u4ece GPU \u62f7\u51fa\u5230 CPU\uff0c\u4e5f\u5373 Device -&gt; Host\u3002\u4e00\u4e9b\u76f8\u5173\u7684\u793a\u4f8b\u4ee3\u7801\u5982\u4e0b\uff1a</p> <p>cudart.cudaMemcpy(bufferD, bufferH, bufferSize, cudart.cudaMemcpyKind.cudaMemcpyHostToDevice)   # Host -&gt; Device</p> <p>cudart.cudaMemcpy(bufferH, bufferD, bufferSize, cudart.cudaMemcpyKind.cudaMemcpyDeviceToHost)   # Device -&gt; Host 1. 2. 3. 3.4 \u6784\u5efa Execute \u2003 \u6784\u5efa Execute\uff0cExecute \u8c03\u7528\u8ba1\u7b97\u6838\u5fc3\u6267\u884c\u8ba1\u7b97\u7684\u8fc7\u7a0b\uff0c\u770b\u4ee3\u7801\uff0c\u5f88\u7b80\u5355\uff1a</p> <p>context.execute_v2(bufferD) 1. \u2003 \u4ee5\u4e0a\u5c31\u5b8c\u6210\u4e86\u6574\u4e2a\u7684 \u6784\u5efa \u4e0e \u8fd0\u884c\u8fc7\u7a0b\uff0c\u4e0b\u9762\u770b\u4e2a\u793a\u4f8b\u4ee3\u7801\u3002</p> <p>4 \u6574\u6d41\u7a0b\u6784\u5efa\u793a\u4f8b\u4ee3\u7801 \u2003 \u8fd9\u91cc\u4ee5\u6784\u5efa\u5355\u7b97\u5b50 ( Identity Layer ) \u7f51\u7edc\u4e3a\u4f8b\uff0c\u8fdb\u884c\u4ee3\u7801\u5c55\u793a\uff1a</p>"},{"location":"linux/%E6%9E%84%E5%BB%BA%E6%9C%9F/#_1","title":"\u6784\u5efa\u671f","text":"<p>logger = trt.logger(trt.Logger.ERROR) if os.path.isfile(trtFile):   with open(trtFile, 'rb') as f:     engineString = f.read() else:   builder = trt.Builder.create_network(1 &lt;&lt; int(trt.NetworkDefinitionCreationFlag.EXPLICIT_BATCH))   profile = builder.create_optimization_profile()   config = builder.create_builder_config()   config.max_workspace_size = 1 &lt;&lt; 30</p> <p>inputTensor = network.add_input('inputT0', trt.DataType.FLOAT, [-1, -1, -1])   profile.set_shape(inputTensor.name, [1, 1, 1], [3, 4, 5], [6, 7, 8])   config.add_optimization_profile(profile)</p> <p>identityLayer = network.add_identity(inputTensor)   network.mark_output(identityLayer.get_output(0))</p> <p>engineString = builder.build_serialized_network(network, config)   with open(trtFile, 'wb') as f:     f.write(engineString)</p>"},{"location":"linux/%E6%9E%84%E5%BB%BA%E6%9C%9F/#_2","title":"\u8fd0\u884c\u671f","text":"<p>engine = trt.Runtime(logger).deserialize_cuda_engine(engineString) context = engine.create_execution_context()</p> <p>dataShape = [3, 4, 5] context.set_binding_shape(0, dataShape) data = np.arange(np.prod(dataShape), dtype=np.float32).reshape(*dataShape) bufferH = [np.ascontiguousarray(data.reshape(-1))] bufferD = [cudart.cudaMalloc(bufferH[0].nbytes)[1]]</p> <p>cudart.cudaMemcpy(bufferD[0], bufferH[0].ctypes.data, bufferH[0].nbytes, cudart.cudaMemcpyKind.cudaMemcpyHostToDevice)   # Host -&gt; Device context.execute_v2(bufferD) cudart.cudaMemcpy(bufferH[i].ctypes.data, bufferD[i], bufferH[i].nbytes, cudart.cudaMemcpyKind.cudaMemcpyDeviceToHost)   # Device -&gt; Host</p> <p>cudart.cudaFree(bufferD[0])</p>"},{"location":"tools/python%E5%AF%BC%E5%87%BA%E5%BD%93%E5%89%8D%E9%A1%B9%E7%9B%AE%E6%89%80%E9%9C%80%E4%BE%9D%E8%B5%96/","title":"\u5bfc\u51fapython\u5f53\u524d\u9879\u76ee\u6240\u9700\u4f9d\u8d56\u6e05\u5355requirements.txt","text":"<p>\u56e0\u4f7f\u7528 pip freeze &gt; requirements.txt \u4f1a\u5bfc\u51fa\u5927\u91cf\u4e0e\u8be5\u9879\u76ee\u65e0\u5173\u7684\u4f9d\u8d56\u3002</p> <p>\u5982\u679c\u6211\u4eec\u53ea\u9700\u5bfc\u51fa\u5f53\u524d\u9879\u76ee\u6240\u9700\u7684\u4f9d\u8d56\u5305\uff0c\u8fd8\u53ef\u4ee5\u91c7\u7528\u53e6\u5916\u4e00\u79cd\u65b9\u5f0f\uff0c\u4f7f\u7528\u5de5\u5177\uff1apipreqs</p>"},{"location":"tools/python%E5%AF%BC%E5%87%BA%E5%BD%93%E5%89%8D%E9%A1%B9%E7%9B%AE%E6%89%80%E9%9C%80%E4%BE%9D%E8%B5%96/#pipreqs","title":"\u4e00\u3001\u5b89\u88c5pipreqs","text":"Bash<pre><code>pip install pipreqs\n</code></pre>"},{"location":"tools/python%E5%AF%BC%E5%87%BA%E5%BD%93%E5%89%8D%E9%A1%B9%E7%9B%AE%E6%89%80%E9%9C%80%E4%BE%9D%E8%B5%96/#_1","title":"\u4e8c\u3001\u5bfc\u51fa\u4f9d\u8d56","text":"Bash<pre><code>pipreqs ./ --encoding=utf8\n</code></pre>"}]}